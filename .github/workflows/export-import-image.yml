name: Build and Push Home Assistant ARM64 Slim Image

on:
  workflow_dispatch:
    inputs:
      ha_version:
        description: 'Home Assistant version tag (e.g., 2025.12.5)'
        required: true
        default: '2025.12.5'
        type: string

env:
  HA_VERSION: ${{ inputs.ha_version }}

jobs:
  build-and-push:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      packages: write
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Log in to GitHub Container Registry
        uses: docker/login-action@v3
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata
        id: meta
        uses: docker/metadata-action@v5
        with:
          images: ghcr.io/${{ github.repository }}
          tags: |
            type=raw,value=${{ env.HA_VERSION }}
            type=raw,value=latest,enable={{is_default_branch}}

      - name: Pull original image and get size
        run: |
          docker pull --platform linux/arm64 ghcr.io/home-assistant/home-assistant:${{ env.HA_VERSION }}
          ORIGINAL_SIZE=$(docker images --format "table {{.Repository}}:{{.Tag}}\t{{.Size}}" ghcr.io/home-assistant/home-assistant:${{ env.HA_VERSION }} | tail -n 1 | awk '{print $2}')
          echo "ORIGINAL_SIZE=${ORIGINAL_SIZE}" >> $GITHUB_ENV
          echo "原始镜像大小: ${ORIGINAL_SIZE}"

      - name: Start container and get container ID
        run: |
          CONTAINER_ID=$(docker run --platform linux/arm64 -d ghcr.io/home-assistant/home-assistant:${{ env.HA_VERSION }} sleep infinity)
          echo "CONTAINER_ID=${CONTAINER_ID}" >> $GITHUB_ENV
          echo "Started container with ID: ${CONTAINER_ID}"

      - name: Remove packages from container
        run: |
          docker exec ${CONTAINER_ID} uv pip remove AEMET-OpenData
          docker exec ${CONTAINER_ID} uv pip remove AIOSomecomfort
          docker exec ${CONTAINER_ID} uv pip remove Adax-local
          docker exec ${CONTAINER_ID} uv pip remove DoorBirdPy
          docker exec ${CONTAINER_ID} uv pip remove HAP-python
          docker exec ${CONTAINER_ID} uv pip remove HATasmota
          docker exec ${CONTAINER_ID} uv pip remove HueBLE
          docker exec ${CONTAINER_ID} uv pip remove Mastodon.py
          docker exec ${CONTAINER_ID} uv pip remove PSNAWP
          docker exec ${CONTAINER_ID} uv pip remove Pillow
          docker exec ${CONTAINER_ID} uv pip remove PlexAPI
          docker exec ${CONTAINER_ID} uv pip remove ProgettiHWSW
          docker exec ${CONTAINER_ID} uv pip remove PyChromecast
          docker exec ${CONTAINER_ID} uv pip remove PyFlume
          docker exec ${CONTAINER_ID} uv pip remove PyFronius
          docker exec ${CONTAINER_ID} uv pip remove PyLoadAPI
          docker exec ${CONTAINER_ID} uv pip remove PyMetEireann
          docker exec ${CONTAINER_ID} uv pip remove PyMetno
          docker exec ${CONTAINER_ID} uv pip remove PyMicroBot
          docker exec ${CONTAINER_ID} uv pip remove PyNaCl
          docker exec ${CONTAINER_ID} uv pip remove PyQRCode
          docker exec ${CONTAINER_ID} uv pip remove PyRMVtransport
          docker exec ${CONTAINER_ID} uv pip remove PySrDaliGateway
          docker exec ${CONTAINER_ID} uv pip remove PySwitchbot
          docker exec ${CONTAINER_ID} uv pip remove PySwitchmate
          docker exec ${CONTAINER_ID} uv pip remove PySyncThru
          docker exec ${CONTAINER_ID} uv pip remove PyTransportNSW
          docker exec ${CONTAINER_ID} uv pip remove PyTurboJPEG
          docker exec ${CONTAINER_ID} uv pip remove PyViCare
          docker exec ${CONTAINER_ID} uv pip remove PyXiaomiGateway
          docker exec ${CONTAINER_ID} uv pip remove RachioPy
          docker exec ${CONTAINER_ID} uv pip remove RestrictedPython
          docker exec ${CONTAINER_ID} uv pip remove RtmAPI
          docker exec ${CONTAINER_ID} uv pip remove SQLAlchemy
          docker exec ${CONTAINER_ID} uv pip remove Tami4EdgeAPI
          docker exec ${CONTAINER_ID} uv pip remove TravisPy
          docker exec ${CONTAINER_ID} uv pip remove TwitterAPI
          docker exec ${CONTAINER_ID} uv pip remove WSDiscovery
          docker exec ${CONTAINER_ID} uv pip remove accuweather
          docker exec ${CONTAINER_ID} uv pip remove actron-neo-api
          docker exec ${CONTAINER_ID} uv pip remove adax
          docker exec ${CONTAINER_ID} uv pip remove adb-shell[async]
          docker exec ${CONTAINER_ID} uv pip remove adext
          docker exec ${CONTAINER_ID} uv pip remove adguardhome
          docker exec ${CONTAINER_ID} uv pip remove advantage-air
          docker exec ${CONTAINER_ID} uv pip remove afsapi
          docker exec ${CONTAINER_ID} uv pip remove agent-py
          docker exec ${CONTAINER_ID} uv pip remove aio-geojson-generic-client
          docker exec ${CONTAINER_ID} uv pip remove aio-geojson-geonetnz-quakes
          docker exec ${CONTAINER_ID} uv pip remove aio-geojson-geonetnz-volcano
          docker exec ${CONTAINER_ID} uv pip remove aio-geojson-nsw-rfs-incidents
          docker exec ${CONTAINER_ID} uv pip remove aio-geojson-usgs-earthquakes
          docker exec ${CONTAINER_ID} uv pip remove aio-georss-gdacs
          docker exec ${CONTAINER_ID} uv pip remove aio-ownet
          docker exec ${CONTAINER_ID} uv pip remove aioacaia
          docker exec ${CONTAINER_ID} uv pip remove aioairq
          docker exec ${CONTAINER_ID} uv pip remove aioairzone-cloud
          docker exec ${CONTAINER_ID} uv pip remove aioairzone
          docker exec ${CONTAINER_ID} uv pip remove aioamazondevices
          docker exec ${CONTAINER_ID} uv pip remove aioambient
          docker exec ${CONTAINER_ID} uv pip remove aioapcaccess
          docker exec ${CONTAINER_ID} uv pip remove aioaquacell
          docker exec ${CONTAINER_ID} uv pip remove aioaseko
          docker exec ${CONTAINER_ID} uv pip remove aioasuswrt
          docker exec ${CONTAINER_ID} uv pip remove aioautomower
          docker exec ${CONTAINER_ID} uv pip remove aioazuredevops
          docker exec ${CONTAINER_ID} uv pip remove aiobafi6
          docker exec ${CONTAINER_ID} uv pip remove aiobotocore
          docker exec ${CONTAINER_ID} uv pip remove aiocomelit
          docker exec ${CONTAINER_ID} uv pip remove aiodhcpwatcher
          docker exec ${CONTAINER_ID} uv pip remove aiodiscover
          docker exec ${CONTAINER_ID} uv pip remove aiodns
          docker exec ${CONTAINER_ID} uv pip remove aiodukeenergy
          docker exec ${CONTAINER_ID} uv pip remove aioeafm
          docker exec ${CONTAINER_ID} uv pip remove aioeagle
          docker exec ${CONTAINER_ID} uv pip remove aioecowitt
          docker exec ${CONTAINER_ID} uv pip remove aioelectricitymaps
          docker exec ${CONTAINER_ID} uv pip remove aioemonitor
          docker exec ${CONTAINER_ID} uv pip remove aioesphomeapi
          docker exec ${CONTAINER_ID} uv pip remove aiofiles
          docker exec ${CONTAINER_ID} uv pip remove aioflo
          docker exec ${CONTAINER_ID} uv pip remove aioftp
          docker exec ${CONTAINER_ID} uv pip remove aiogithubapi
          docker exec ${CONTAINER_ID} uv pip remove aioguardian
          docker exec ${CONTAINER_ID} uv pip remove aioharmony
          docker exec ${CONTAINER_ID} uv pip remove aiohasupervisor
          docker exec ${CONTAINER_ID} uv pip remove aiohomeconnect
          docker exec ${CONTAINER_ID} uv pip remove aiohomekit
          docker exec ${CONTAINER_ID} uv pip remove aiohttp_sse
          docker exec ${CONTAINER_ID} uv pip remove aiohue
          docker exec ${CONTAINER_ID} uv pip remove aioimaplib
          docker exec ${CONTAINER_ID} uv pip remove aioimmich
          docker exec ${CONTAINER_ID} uv pip remove aiokafka
          docker exec ${CONTAINER_ID} uv pip remove aiokef
          docker exec ${CONTAINER_ID} uv pip remove aiokem
          docker exec ${CONTAINER_ID} uv pip remove aiolifx-effects
          docker exec ${CONTAINER_ID} uv pip remove aiolifx-themes
          docker exec ${CONTAINER_ID} uv pip remove aiolifx
          docker exec ${CONTAINER_ID} uv pip remove aiolookin
          docker exec ${CONTAINER_ID} uv pip remove aiolyric
          docker exec ${CONTAINER_ID} uv pip remove aiomealie
          docker exec ${CONTAINER_ID} uv pip remove aiomodernforms
          docker exec ${CONTAINER_ID} uv pip remove aiomusiccast
          docker exec ${CONTAINER_ID} uv pip remove aionanoleaf
          docker exec ${CONTAINER_ID} uv pip remove aionotion
          docker exec ${CONTAINER_ID} uv pip remove aiontfy
          docker exec ${CONTAINER_ID} uv pip remove aionut
          docker exec ${CONTAINER_ID} uv pip remove aioonkyo
          docker exec ${CONTAINER_ID} uv pip remove aioopenexchangerates
          docker exec ${CONTAINER_ID} uv pip remove aiooui
          docker exec ${CONTAINER_ID} uv pip remove aiopegelonline
          docker exec ${CONTAINER_ID} uv pip remove aiopulse
          docker exec ${CONTAINER_ID} uv pip remove aiopurpleair
          docker exec ${CONTAINER_ID} uv pip remove aiopvapi
          docker exec ${CONTAINER_ID} uv pip remove aiopvpc
          docker exec ${CONTAINER_ID} uv pip remove aiopyarr
          docker exec ${CONTAINER_ID} uv pip remove aioqsw
          docker exec ${CONTAINER_ID} uv pip remove aioraven
          docker exec ${CONTAINER_ID} uv pip remove aiorecollect
          docker exec ${CONTAINER_ID} uv pip remove aioridwell
          docker exec ${CONTAINER_ID} uv pip remove aioruckus
          docker exec ${CONTAINER_ID} uv pip remove aiorussound
          docker exec ${CONTAINER_ID} uv pip remove aioruuvigateway
          docker exec ${CONTAINER_ID} uv pip remove aiosenz
          docker exec ${CONTAINER_ID} uv pip remove aioshelly
          docker exec ${CONTAINER_ID} uv pip remove aioskybell
          docker exec ${CONTAINER_ID} uv pip remove aioslimproto
          docker exec ${CONTAINER_ID} uv pip remove aiosolaredge
          docker exec ${CONTAINER_ID} uv pip remove aiosteamist
          docker exec ${CONTAINER_ID} uv pip remove aiostreammagic
          docker exec ${CONTAINER_ID} uv pip remove aioswitcher
          docker exec ${CONTAINER_ID} uv pip remove aiosyncthing
          docker exec ${CONTAINER_ID} uv pip remove aiotankerkoenig
          docker exec ${CONTAINER_ID} uv pip remove aiotedee
          docker exec ${CONTAINER_ID} uv pip remove aiotractive
          docker exec ${CONTAINER_ID} uv pip remove aiounifi
          docker exec ${CONTAINER_ID} uv pip remove aiousbwatcher
          docker exec ${CONTAINER_ID} uv pip remove aiovlc
          docker exec ${CONTAINER_ID} uv pip remove aiovodafone
          docker exec ${CONTAINER_ID} uv pip remove aiowaqi
          docker exec ${CONTAINER_ID} uv pip remove aiowatttime
          docker exec ${CONTAINER_ID} uv pip remove aiowebdav2
          docker exec ${CONTAINER_ID} uv pip remove aiowebostv
          docker exec ${CONTAINER_ID} uv pip remove aiowithings
          docker exec ${CONTAINER_ID} uv pip remove aioymaps
          docker exec ${CONTAINER_ID} uv pip remove airgradient
          docker exec ${CONTAINER_ID} uv pip remove airly
          docker exec ${CONTAINER_ID} uv pip remove airos
          docker exec ${CONTAINER_ID} uv pip remove airthings-ble
          docker exec ${CONTAINER_ID} uv pip remove airthings-cloud
          docker exec ${CONTAINER_ID} uv pip remove airtouch4pyapi
          docker exec ${CONTAINER_ID} uv pip remove airtouch5py
          docker exec ${CONTAINER_ID} uv pip remove alpha-vantage
          docker exec ${CONTAINER_ID} uv pip remove altruistclient
          docker exec ${CONTAINER_ID} uv pip remove amberelectric
          docker exec ${CONTAINER_ID} uv pip remove amcrest
          docker exec ${CONTAINER_ID} uv pip remove androidtv[async]
          docker exec ${CONTAINER_ID} uv pip remove androidtvremote2
          docker exec ${CONTAINER_ID} uv pip remove anel-pwrctrl-homeassistant
          docker exec ${CONTAINER_ID} uv pip remove anova-wifi
          docker exec ${CONTAINER_ID} uv pip remove anthemav
          docker exec ${CONTAINER_ID} uv pip remove anthropic
          docker exec ${CONTAINER_ID} uv pip remove anyio
          docker exec ${CONTAINER_ID} uv pip remove apple_weatherkit
          docker exec ${CONTAINER_ID} uv pip remove apprise
          docker exec ${CONTAINER_ID} uv pip remove aprslib
          docker exec ${CONTAINER_ID} uv pip remove apsystems-ez1
          docker exec ${CONTAINER_ID} uv pip remove aqualogic
          docker exec ${CONTAINER_ID} uv pip remove aranet4
          docker exec ${CONTAINER_ID} uv pip remove arcam-fmj
          docker exec ${CONTAINER_ID} uv pip remove arris-tg2492lg
          docker exec ${CONTAINER_ID} uv pip remove asmog
          docker exec ${CONTAINER_ID} uv pip remove asusrouter
          docker exec ${CONTAINER_ID} uv pip remove async-upnp-client
          docker exec ${CONTAINER_ID} uv pip remove asyncarve
          docker exec ${CONTAINER_ID} uv pip remove asyncinotify
          docker exec ${CONTAINER_ID} uv pip remove asyncpysupla
          docker exec ${CONTAINER_ID} uv pip remove asyncsleepiq
          docker exec ${CONTAINER_ID} uv pip remove asyncssh
          docker exec ${CONTAINER_ID} uv pip remove # atenpdu
          docker exec ${CONTAINER_ID} uv pip remove auroranoaa
          docker exec ${CONTAINER_ID} uv pip remove aurorapy
          docker exec ${CONTAINER_ID} uv pip remove autarco
          docker exec ${CONTAINER_ID} uv pip remove automower-ble
          docker exec ${CONTAINER_ID} uv pip remove av
          docker exec ${CONTAINER_ID} uv pip remove avea
          docker exec ${CONTAINER_ID} uv pip remove # avion
          docker exec ${CONTAINER_ID} uv pip remove axis
          docker exec ${CONTAINER_ID} uv pip remove ayla-iot-unofficial
          docker exec ${CONTAINER_ID} uv pip remove azure-eventhub
          docker exec ${CONTAINER_ID} uv pip remove azure-kusto-data[aio]
          docker exec ${CONTAINER_ID} uv pip remove azure-kusto-ingest
          docker exec ${CONTAINER_ID} uv pip remove azure-servicebus
          docker exec ${CONTAINER_ID} uv pip remove azure-storage-blob
          docker exec ${CONTAINER_ID} uv pip remove b2sdk
          docker exec ${CONTAINER_ID} uv pip remove babel
          docker exec ${CONTAINER_ID} uv pip remove baidu-aip
          docker exec ${CONTAINER_ID} uv pip remove base36
          docker exec ${CONTAINER_ID} uv pip remove batinfo
          docker exec ${CONTAINER_ID} uv pip remove beautifulsoup4
          docker exec ${CONTAINER_ID} uv pip remove # beewi-smartclim
          docker exec ${CONTAINER_ID} uv pip remove bimmer-connected[china]
          docker exec ${CONTAINER_ID} uv pip remove bizkaibus
          docker exec ${CONTAINER_ID} uv pip remove bleak-esphome
          docker exec ${CONTAINER_ID} uv pip remove bleak-retry-connector
          docker exec ${CONTAINER_ID} uv pip remove bleak
          docker exec ${CONTAINER_ID} uv pip remove blebox-uniapi
          docker exec ${CONTAINER_ID} uv pip remove blinkpy
          docker exec ${CONTAINER_ID} uv pip remove blockchain
          docker exec ${CONTAINER_ID} uv pip remove bluecurrent-api
          docker exec ${CONTAINER_ID} uv pip remove bluemaestro-ble
          docker exec ${CONTAINER_ID} uv pip remove bluetooth-adapters
          docker exec ${CONTAINER_ID} uv pip remove bluetooth-auto-recovery
          docker exec ${CONTAINER_ID} uv pip remove bluetooth-data-tools
          docker exec ${CONTAINER_ID} uv pip remove bond-async
          docker exec ${CONTAINER_ID} uv pip remove bosch-alarm-mode2
          docker exec ${CONTAINER_ID} uv pip remove boschshcpy
          docker exec ${CONTAINER_ID} uv pip remove boto3
          docker exec ${CONTAINER_ID} uv pip remove botocore
          docker exec ${CONTAINER_ID} uv pip remove bring-api
          docker exec ${CONTAINER_ID} uv pip remove broadlink
          docker exec ${CONTAINER_ID} uv pip remove brother
          docker exec ${CONTAINER_ID} uv pip remove brottsplatskartan
          docker exec ${CONTAINER_ID} uv pip remove brunt
          docker exec ${CONTAINER_ID} uv pip remove bthome-ble
          docker exec ${CONTAINER_ID} uv pip remove bthomehub5-devicelist
          docker exec ${CONTAINER_ID} uv pip remove btsmarthub-devicelist
          docker exec ${CONTAINER_ID} uv pip remove buienradar
          docker exec ${CONTAINER_ID} uv pip remove cached-ipaddress
          docker exec ${CONTAINER_ID} uv pip remove caldav
          docker exec ${CONTAINER_ID} uv pip remove ciscomobilityexpress
          docker exec ${CONTAINER_ID} uv pip remove clearpasspy
          docker exec ${CONTAINER_ID} uv pip remove clx-sdk-xms
          docker exec ${CONTAINER_ID} uv pip remove coinbase-advanced-py
          docker exec ${CONTAINER_ID} uv pip remove colorlog
          docker exec ${CONTAINER_ID} uv pip remove colorthief
          docker exec ${CONTAINER_ID} uv pip remove compit-inext-api
          docker exec ${CONTAINER_ID} uv pip remove concord232
          docker exec ${CONTAINER_ID} uv pip remove connect-box
          docker exec ${CONTAINER_ID} uv pip remove construct
          docker exec ${CONTAINER_ID} uv pip remove cookidoo-api
          docker exec ${CONTAINER_ID} uv pip remove cronsim
          docker exec ${CONTAINER_ID} uv pip remove crownstone-cloud
          docker exec ${CONTAINER_ID} uv pip remove crownstone-sse
          docker exec ${CONTAINER_ID} uv pip remove crownstone-uart
          docker exec ${CONTAINER_ID} uv pip remove datadog
          docker exec ${CONTAINER_ID} uv pip remove datapoint
          docker exec ${CONTAINER_ID} uv pip remove dbus-fast
          docker exec ${CONTAINER_ID} uv pip remove debugpy
          docker exec ${CONTAINER_ID} uv pip remove decora-wifi
          docker exec ${CONTAINER_ID} uv pip remove deebot-client
          docker exec ${CONTAINER_ID} uv pip remove defusedxml
          docker exec ${CONTAINER_ID} uv pip remove deluge-client
          docker exec ${CONTAINER_ID} uv pip remove demetriek
          docker exec ${CONTAINER_ID} uv pip remove denonavr
          docker exec ${CONTAINER_ID} uv pip remove devialet
          docker exec ${CONTAINER_ID} uv pip remove devolo-home-control-api
          docker exec ${CONTAINER_ID} uv pip remove devolo-plc-api
          docker exec ${CONTAINER_ID} uv pip remove dio-chacon-wifi-api
          docker exec ${CONTAINER_ID} uv pip remove directv
          docker exec ${CONTAINER_ID} uv pip remove discogs-client
          docker exec ${CONTAINER_ID} uv pip remove discovery30303
          docker exec ${CONTAINER_ID} uv pip remove dremel3dpy
          docker exec ${CONTAINER_ID} uv pip remove dropmqttapi
          docker exec ${CONTAINER_ID} uv pip remove dsmr-parser
          docker exec ${CONTAINER_ID} uv pip remove dwdwfsapi
          docker exec ${CONTAINER_ID} uv pip remove dynalite-devices
          docker exec ${CONTAINER_ID} uv pip remove dynalite-panel
          docker exec ${CONTAINER_ID} uv pip remove eagle100
          docker exec ${CONTAINER_ID} uv pip remove easyenergy
          docker exec ${CONTAINER_ID} uv pip remove ebusdpy
          docker exec ${CONTAINER_ID} uv pip remove ecoaliface
          docker exec ${CONTAINER_ID} uv pip remove eheimdigital
          docker exec ${CONTAINER_ID} uv pip remove ekey-bionyxpy
          docker exec ${CONTAINER_ID} uv pip remove electrickiwi-api
          docker exec ${CONTAINER_ID} uv pip remove elevenlabs
          docker exec ${CONTAINER_ID} uv pip remove elgato
          docker exec ${CONTAINER_ID} uv pip remove eliqonline
          docker exec ${CONTAINER_ID} uv pip remove elkm1-lib
          docker exec ${CONTAINER_ID} uv pip remove elkoep-aio-mqtt
          docker exec ${CONTAINER_ID} uv pip remove elmax-api
          docker exec ${CONTAINER_ID} uv pip remove elvia
          docker exec ${CONTAINER_ID} uv pip remove emoji
          docker exec ${CONTAINER_ID} uv pip remove emulated-roku
          docker exec ${CONTAINER_ID} uv pip remove energyflip-client
          docker exec ${CONTAINER_ID} uv pip remove energyid-webhooks
          docker exec ${CONTAINER_ID} uv pip remove energyzero
          docker exec ${CONTAINER_ID} uv pip remove enocean
          docker exec ${CONTAINER_ID} uv pip remove enturclient
          docker exec ${CONTAINER_ID} uv pip remove env-canada
          docker exec ${CONTAINER_ID} uv pip remove ephem
          docker exec ${CONTAINER_ID} uv pip remove epicstore-api
          docker exec ${CONTAINER_ID} uv pip remove epion
          docker exec ${CONTAINER_ID} uv pip remove epson-projector
          docker exec ${CONTAINER_ID} uv pip remove eq3btsmart
          docker exec ${CONTAINER_ID} uv pip remove esphome-dashboard-api
          docker exec ${CONTAINER_ID} uv pip remove essent-dynamic-pricing
          docker exec ${CONTAINER_ID} uv pip remove eternalegypt
          docker exec ${CONTAINER_ID} uv pip remove eufylife-ble-client
          docker exec ${CONTAINER_ID} uv pip remove # evdev
          docker exec ${CONTAINER_ID} uv pip remove evohome-async
          docker exec ${CONTAINER_ID} uv pip remove evolutionhttp
          docker exec ${CONTAINER_ID} uv pip remove faadelays
          docker exec ${CONTAINER_ID} uv pip remove fastdotcom
          docker exec ${CONTAINER_ID} uv pip remove feedparser
          docker exec ${CONTAINER_ID} uv pip remove file-read-backwards
          docker exec ${CONTAINER_ID} uv pip remove fing_agent_api
          docker exec ${CONTAINER_ID} uv pip remove fints
          docker exec ${CONTAINER_ID} uv pip remove fitbit-web-api
          docker exec ${CONTAINER_ID} uv pip remove fitbit
          docker exec ${CONTAINER_ID} uv pip remove fivem-api
          docker exec ${CONTAINER_ID} uv pip remove fixerio
          docker exec ${CONTAINER_ID} uv pip remove fjaraskupan
          docker exec ${CONTAINER_ID} uv pip remove flexit_bacnet
          docker exec ${CONTAINER_ID} uv pip remove flipr-api
          docker exec ${CONTAINER_ID} uv pip remove flux-led
          docker exec ${CONTAINER_ID} uv pip remove fnv-hash-fast
          docker exec ${CONTAINER_ID} uv pip remove foobot_async
          docker exec ${CONTAINER_ID} uv pip remove forecast-solar
          docker exec ${CONTAINER_ID} uv pip remove fortiosapi
          docker exec ${CONTAINER_ID} uv pip remove freebox-api
          docker exec ${CONTAINER_ID} uv pip remove freesms
          docker exec ${CONTAINER_ID} uv pip remove fressnapftracker
          docker exec ${CONTAINER_ID} uv pip remove fritzconnection[qr]
          docker exec ${CONTAINER_ID} uv pip remove fyta_cli
          docker exec ${CONTAINER_ID} uv pip remove gTTS
          docker exec ${CONTAINER_ID} uv pip remove gardena-bluetooth
          docker exec ${CONTAINER_ID} uv pip remove gassist-text
          docker exec ${CONTAINER_ID} uv pip remove gcal-sync
          docker exec ${CONTAINER_ID} uv pip remove genie-partner-sdk
          docker exec ${CONTAINER_ID} uv pip remove geniushub-client
          docker exec ${CONTAINER_ID} uv pip remove geocachingapi
          docker exec ${CONTAINER_ID} uv pip remove geopy
          docker exec ${CONTAINER_ID} uv pip remove georss-generic-client
          docker exec ${CONTAINER_ID} uv pip remove georss-ign-sismologia-client
          docker exec ${CONTAINER_ID} uv pip remove georss-qld-bushfire-alert-client
          docker exec ${CONTAINER_ID} uv pip remove getmac
          docker exec ${CONTAINER_ID} uv pip remove gios
          docker exec ${CONTAINER_ID} uv pip remove gitterpy
          docker exec ${CONTAINER_ID} uv pip remove glances-api
          docker exec ${CONTAINER_ID} uv pip remove go2rtc-client
          docker exec ${CONTAINER_ID} uv pip remove goalzero
          docker exec ${CONTAINER_ID} uv pip remove goodwe
          docker exec ${CONTAINER_ID} uv pip remove google-api-python-client
          docker exec ${CONTAINER_ID} uv pip remove google-cloud-pubsub
          docker exec ${CONTAINER_ID} uv pip remove google-cloud-speech
          docker exec ${CONTAINER_ID} uv pip remove google-cloud-texttospeech
          docker exec ${CONTAINER_ID} uv pip remove google-genai
          docker exec ${CONTAINER_ID} uv pip remove google-maps-routing
          docker exec ${CONTAINER_ID} uv pip remove google-nest-sdm
          docker exec ${CONTAINER_ID} uv pip remove google-photos-library-api
          docker exec ${CONTAINER_ID} uv pip remove google_air_quality_api
          docker exec ${CONTAINER_ID} uv pip remove goslide-api
          docker exec ${CONTAINER_ID} uv pip remove gotailwind
          docker exec ${CONTAINER_ID} uv pip remove govee-ble
          docker exec ${CONTAINER_ID} uv pip remove govee-local-api
          docker exec ${CONTAINER_ID} uv pip remove gpiozero
          docker exec ${CONTAINER_ID} uv pip remove gps3
          docker exec ${CONTAINER_ID} uv pip remove greeclimate
          docker exec ${CONTAINER_ID} uv pip remove greeneye_monitor
          docker exec ${CONTAINER_ID} uv pip remove greenwavereality
          docker exec ${CONTAINER_ID} uv pip remove gridnet
          docker exec ${CONTAINER_ID} uv pip remove growattServer
          docker exec ${CONTAINER_ID} uv pip remove gspread
          docker exec ${CONTAINER_ID} uv pip remove guppy3
          docker exec ${CONTAINER_ID} uv pip remove h2
          docker exec ${CONTAINER_ID} uv pip remove ha-ffmpeg
          docker exec ${CONTAINER_ID} uv pip remove ha-iotawattpy
          docker exec ${CONTAINER_ID} uv pip remove ha-philipsjs
          docker exec ${CONTAINER_ID} uv pip remove ha-silabs-firmware-client
          docker exec ${CONTAINER_ID} uv pip remove habiticalib
          docker exec ${CONTAINER_ID} uv pip remove habluetooth
          docker exec ${CONTAINER_ID} uv pip remove hanna-cloud
          docker exec ${CONTAINER_ID} uv pip remove hass-nabucasa
          docker exec ${CONTAINER_ID} uv pip remove hass-splunk
          docker exec ${CONTAINER_ID} uv pip remove hassil
          docker exec ${CONTAINER_ID} uv pip remove hdate[astral]
          docker exec ${CONTAINER_ID} uv pip remove heatmiserV3
          docker exec ${CONTAINER_ID} uv pip remove here-routing
          docker exec ${CONTAINER_ID} uv pip remove here-transit
          docker exec ${CONTAINER_ID} uv pip remove hikvision
          docker exec ${CONTAINER_ID} uv pip remove hkavr
          docker exec ${CONTAINER_ID} uv pip remove hko
          docker exec ${CONTAINER_ID} uv pip remove hlk-sw16
          docker exec ${CONTAINER_ID} uv pip remove hole
          docker exec ${CONTAINER_ID} uv pip remove holidays
          docker exec ${CONTAINER_ID} uv pip remove home-assistant-frontend
          docker exec ${CONTAINER_ID} uv pip remove home-assistant-intents
          docker exec ${CONTAINER_ID} uv pip remove homelink-integration-api
          docker exec ${CONTAINER_ID} uv pip remove homematicip
          docker exec ${CONTAINER_ID} uv pip remove horimote
          docker exec ${CONTAINER_ID} uv pip remove httplib2
          docker exec ${CONTAINER_ID} uv pip remove huawei-lte-api
          docker exec ${CONTAINER_ID} uv pip remove huum
          docker exec ${CONTAINER_ID} uv pip remove hyperion-py
          docker exec ${CONTAINER_ID} uv pip remove iammeter
          docker exec ${CONTAINER_ID} uv pip remove iaqualink
          docker exec ${CONTAINER_ID} uv pip remove ibeacon-ble
          docker exec ${CONTAINER_ID} uv pip remove ical
          docker exec ${CONTAINER_ID} uv pip remove icalendar
          docker exec ${CONTAINER_ID} uv pip remove icmplib
          docker exec ${CONTAINER_ID} uv pip remove idasen-ha
          docker exec ${CONTAINER_ID} uv pip remove ifaddr
          docker exec ${CONTAINER_ID} uv pip remove iglo
          docker exec ${CONTAINER_ID} uv pip remove igloohome-api
          docker exec ${CONTAINER_ID} uv pip remove ihcsdk
          docker exec ${CONTAINER_ID} uv pip remove imeon_inverter_api
          docker exec ${CONTAINER_ID} uv pip remove imgw_pib
          docker exec ${CONTAINER_ID} uv pip remove incomfort-client
          docker exec ${CONTAINER_ID} uv pip remove influxdb-client
          docker exec ${CONTAINER_ID} uv pip remove influxdb
          docker exec ${CONTAINER_ID} uv pip remove inkbird-ble
          docker exec ${CONTAINER_ID} uv pip remove insteon-frontend-home-assistant
          docker exec ${CONTAINER_ID} uv pip remove intellifire4py
          docker exec ${CONTAINER_ID} uv pip remove iometer
          docker exec ${CONTAINER_ID} uv pip remove iottycloud
          docker exec ${CONTAINER_ID} uv pip remove iperf3
          docker exec ${CONTAINER_ID} uv pip remove irm-kmi-api
          docker exec ${CONTAINER_ID} uv pip remove isal
          docker exec ${CONTAINER_ID} uv pip remove ismartgate
          docker exec ${CONTAINER_ID} uv pip remove israel-rail-api
          docker exec ${CONTAINER_ID} uv pip remove jaraco.abode
          docker exec ${CONTAINER_ID} uv pip remove jellyfin-apiclient-python
          docker exec ${CONTAINER_ID} uv pip remove jsonpath
          docker exec ${CONTAINER_ID} uv pip remove justnimbus
          docker exec ${CONTAINER_ID} uv pip remove kaiterra-async-client
          docker exec ${CONTAINER_ID} uv pip remove keba-kecontact
          docker exec ${CONTAINER_ID} uv pip remove kegtron-ble
          docker exec ${CONTAINER_ID} uv pip remove kiwiki-client
          docker exec ${CONTAINER_ID} uv pip remove knocki
          docker exec ${CONTAINER_ID} uv pip remove knx-frontend
          docker exec ${CONTAINER_ID} uv pip remove konnected
          docker exec ${CONTAINER_ID} uv pip remove krakenex
          docker exec ${CONTAINER_ID} uv pip remove lacrosse-view
          docker exec ${CONTAINER_ID} uv pip remove lakeside
          docker exec ${CONTAINER_ID} uv pip remove laundrify-aio
          docker exec ${CONTAINER_ID} uv pip remove lcn-frontend
          docker exec ${CONTAINER_ID} uv pip remove ld2410-ble
          docker exec ${CONTAINER_ID} uv pip remove leaone-ble
          docker exec ${CONTAINER_ID} uv pip remove led-ble
          docker exec ${CONTAINER_ID} uv pip remove lektricowifi
          docker exec ${CONTAINER_ID} uv pip remove letpot
          docker exec ${CONTAINER_ID} uv pip remove libpyfoscamcgi
          docker exec ${CONTAINER_ID} uv pip remove libpyvivotek
          docker exec ${CONTAINER_ID} uv pip remove librehardwaremonitor-api
          docker exec ${CONTAINER_ID} uv pip remove librouteros
          docker exec ${CONTAINER_ID} uv pip remove libsoundtouch
          docker exec ${CONTAINER_ID} uv pip remove lightify
          docker exec ${CONTAINER_ID} uv pip remove lightwave
          docker exec ${CONTAINER_ID} uv pip remove limitlessled
          docker exec ${CONTAINER_ID} uv pip remove linode-api
          docker exec ${CONTAINER_ID} uv pip remove livisi
          docker exec ${CONTAINER_ID} uv pip remove locationsharinglib
          docker exec ${CONTAINER_ID} uv pip remove london-tube-status
          docker exec ${CONTAINER_ID} uv pip remove loqedAPI
          docker exec ${CONTAINER_ID} uv pip remove luftdaten
          docker exec ${CONTAINER_ID} uv pip remove lunatone-rest-api-client
          docker exec ${CONTAINER_ID} uv pip remove lupupy
          docker exec ${CONTAINER_ID} uv pip remove lw12
          docker exec ${CONTAINER_ID} uv pip remove lxml
          docker exec ${CONTAINER_ID} uv pip remove matrix-nio
          docker exec ${CONTAINER_ID} uv pip remove maxcube-api
          docker exec ${CONTAINER_ID} uv pip remove mbddns
          docker exec ${CONTAINER_ID} uv pip remove mcp
          docker exec ${CONTAINER_ID} uv pip remove mcstatus
          docker exec ${CONTAINER_ID} uv pip remove meater-python
          docker exec ${CONTAINER_ID} uv pip remove medcom-ble
          docker exec ${CONTAINER_ID} uv pip remove melnor-bluetooth
          docker exec ${CONTAINER_ID} uv pip remove messagebird
          docker exec ${CONTAINER_ID} uv pip remove meteo-lt-pkg
          docker exec ${CONTAINER_ID} uv pip remove meteoalertapi
          docker exec ${CONTAINER_ID} uv pip remove meteofrance-api
          docker exec ${CONTAINER_ID} uv pip remove mficlient
          docker exec ${CONTAINER_ID} uv pip remove micloud
          docker exec ${CONTAINER_ID} uv pip remove microBeesPy
          docker exec ${CONTAINER_ID} uv pip remove mill-local
          docker exec ${CONTAINER_ID} uv pip remove millheater
          docker exec ${CONTAINER_ID} uv pip remove minio
          docker exec ${CONTAINER_ID} uv pip remove moat-ble
          docker exec ${CONTAINER_ID} uv pip remove moehlenhoff-alpha2
          docker exec ${CONTAINER_ID} uv pip remove momonga
          docker exec ${CONTAINER_ID} uv pip remove monzopy
          docker exec ${CONTAINER_ID} uv pip remove mopeka-iot-ble
          docker exec ${CONTAINER_ID} uv pip remove motionblinds
          docker exec ${CONTAINER_ID} uv pip remove motionblindsble
          docker exec ${CONTAINER_ID} uv pip remove motioneye-client
          docker exec ${CONTAINER_ID} uv pip remove mozart-api
          docker exec ${CONTAINER_ID} uv pip remove mullvad-api
          docker exec ${CONTAINER_ID} uv pip remove music-assistant-client
          docker exec ${CONTAINER_ID} uv pip remove mutagen
          docker exec ${CONTAINER_ID} uv pip remove mutesync
          docker exec ${CONTAINER_ID} uv pip remove mvg
          docker exec ${CONTAINER_ID} uv pip remove mypermobil
          docker exec ${CONTAINER_ID} uv pip remove myuplink
          docker exec ${CONTAINER_ID} uv pip remove nad-receiver
          docker exec ${CONTAINER_ID} uv pip remove ndms2-client
          docker exec ${CONTAINER_ID} uv pip remove nessclient
          docker exec ${CONTAINER_ID} uv pip remove netdata
          docker exec ${CONTAINER_ID} uv pip remove netmap
          docker exec ${CONTAINER_ID} uv pip remove nettigo-air-monitor
          docker exec ${CONTAINER_ID} uv pip remove neurio
          docker exec ${CONTAINER_ID} uv pip remove nexia
          docker exec ${CONTAINER_ID} uv pip remove nextcloudmonitor
          docker exec ${CONTAINER_ID} uv pip remove nextcord
          docker exec ${CONTAINER_ID} uv pip remove nextdns
          docker exec ${CONTAINER_ID} uv pip remove nhc
          docker exec ${CONTAINER_ID} uv pip remove nibe
          docker exec ${CONTAINER_ID} uv pip remove nice-go
          docker exec ${CONTAINER_ID} uv pip remove niluclient
          docker exec ${CONTAINER_ID} uv pip remove noaa-coops
          docker exec ${CONTAINER_ID} uv pip remove notifications-android-tv
          docker exec ${CONTAINER_ID} uv pip remove notify-events
          docker exec ${CONTAINER_ID} uv pip remove nsapi
          docker exec ${CONTAINER_ID} uv pip remove nsw-fuel-api-client
          docker exec ${CONTAINER_ID} uv pip remove nuheat
          docker exec ${CONTAINER_ID} uv pip remove numato-gpio
          docker exec ${CONTAINER_ID} uv pip remove numpy
          docker exec ${CONTAINER_ID} uv pip remove nyt_games
          docker exec ${CONTAINER_ID} uv pip remove oasatelematics
          docker exec ${CONTAINER_ID} uv pip remove oauth2client
          docker exec ${CONTAINER_ID} uv pip remove objgraph
          docker exec ${CONTAINER_ID} uv pip remove odp-amsterdam
          docker exec ${CONTAINER_ID} uv pip remove oemthermostat
          docker exec ${CONTAINER_ID} uv pip remove ohme
          docker exec ${CONTAINER_ID} uv pip remove ollama
          docker exec ${CONTAINER_ID} uv pip remove omnilogic
          docker exec ${CONTAINER_ID} uv pip remove ondilo
          docker exec ${CONTAINER_ID} uv pip remove onedrive-personal-sdk
          docker exec ${CONTAINER_ID} uv pip remove onvif-zeep-async
          docker exec ${CONTAINER_ID} uv pip remove open-garage
          docker exec ${CONTAINER_ID} uv pip remove open-meteo
          docker exec ${CONTAINER_ID} uv pip remove openai
          docker exec ${CONTAINER_ID} uv pip remove openerz-api
          docker exec ${CONTAINER_ID} uv pip remove openevsewifi
          docker exec ${CONTAINER_ID} uv pip remove openhomedevice
          docker exec ${CONTAINER_ID} uv pip remove openrgb-python
          docker exec ${CONTAINER_ID} uv pip remove opensensemap-api
          docker exec ${CONTAINER_ID} uv pip remove openwebifpy
          docker exec ${CONTAINER_ID} uv pip remove openwrt-luci-rpc
          docker exec ${CONTAINER_ID} uv pip remove openwrt-ubus-rpc
          docker exec ${CONTAINER_ID} uv pip remove opower
          docker exec ${CONTAINER_ID} uv pip remove oralb-ble
          docker exec ${CONTAINER_ID} uv pip remove oru
          docker exec ${CONTAINER_ID} uv pip remove orvibo
          docker exec ${CONTAINER_ID} uv pip remove ourgroceries
          docker exec ${CONTAINER_ID} uv pip remove ovoenergy
          docker exec ${CONTAINER_ID} uv pip remove p1monitor
          docker exec ${CONTAINER_ID} uv pip remove paho-mqtt
          docker exec ${CONTAINER_ID} uv pip remove panacotta
          docker exec ${CONTAINER_ID} uv pip remove panasonic-viera
          docker exec ${CONTAINER_ID} uv pip remove pdunehd
          docker exec ${CONTAINER_ID} uv pip remove peblar
          docker exec ${CONTAINER_ID} uv pip remove peco
          docker exec ${CONTAINER_ID} uv pip remove pencompy
          docker exec ${CONTAINER_ID} uv pip remove pescea
          docker exec ${CONTAINER_ID} uv pip remove pexpect
          docker exec ${CONTAINER_ID} uv pip remove phone-modem
          docker exec ${CONTAINER_ID} uv pip remove pigpio
          docker exec ${CONTAINER_ID} uv pip remove pilight
          docker exec ${CONTAINER_ID} uv pip remove plexauth
          docker exec ${CONTAINER_ID} uv pip remove plexwebsocket
          docker exec ${CONTAINER_ID} uv pip remove plugwise
          docker exec ${CONTAINER_ID} uv pip remove pmsensor
          docker exec ${CONTAINER_ID} uv pip remove poolsense
          docker exec ${CONTAINER_ID} uv pip remove powerfox
          docker exec ${CONTAINER_ID} uv pip remove praw
          docker exec ${CONTAINER_ID} uv pip remove prayer-times-calculator-offline
          docker exec ${CONTAINER_ID} uv pip remove proliphix
          docker exec ${CONTAINER_ID} uv pip remove prometheus-client
          docker exec ${CONTAINER_ID} uv pip remove prowlpy
          docker exec ${CONTAINER_ID} uv pip remove proxmoxer
          docker exec ${CONTAINER_ID} uv pip remove psutil-home-assistant
          docker exec ${CONTAINER_ID} uv pip remove psutil
          docker exec ${CONTAINER_ID} uv pip remove pulsectl
          docker exec ${CONTAINER_ID} uv pip remove pushbullet.py
          docker exec ${CONTAINER_ID} uv pip remove pushover_complete
          docker exec ${CONTAINER_ID} uv pip remove pvo
          docker exec ${CONTAINER_ID} uv pip remove py-aosmith
          docker exec ${CONTAINER_ID} uv pip remove py-canary
          docker exec ${CONTAINER_ID} uv pip remove py-cpuinfo
          docker exec ${CONTAINER_ID} uv pip remove py-dactyl
          docker exec ${CONTAINER_ID} uv pip remove py-dormakaba-dkey
          docker exec ${CONTAINER_ID} uv pip remove py-improv-ble-client
          docker exec ${CONTAINER_ID} uv pip remove py-madvr2
          docker exec ${CONTAINER_ID} uv pip remove py-melissa-climate
          docker exec ${CONTAINER_ID} uv pip remove py-nextbusnext
          docker exec ${CONTAINER_ID} uv pip remove py-nightscout
          docker exec ${CONTAINER_ID} uv pip remove py-schluter
          docker exec ${CONTAINER_ID} uv pip remove py-sucks
          docker exec ${CONTAINER_ID} uv pip remove py-synologydsm-api
          docker exec ${CONTAINER_ID} uv pip remove pyAtome
          docker exec ${CONTAINER_ID} uv pip remove pyCEC
          docker exec ${CONTAINER_ID} uv pip remove pyControl4
          docker exec ${CONTAINER_ID} uv pip remove pyDuotecno
          docker exec ${CONTAINER_ID} uv pip remove pyElectra
          docker exec ${CONTAINER_ID} uv pip remove pyEmby
          docker exec ${CONTAINER_ID} uv pip remove pyHik
          docker exec ${CONTAINER_ID} uv pip remove pyHomee
          docker exec ${CONTAINER_ID} uv pip remove pyRFXtrx
          docker exec ${CONTAINER_ID} uv pip remove pySDCP
          docker exec ${CONTAINER_ID} uv pip remove pyTibber
          docker exec ${CONTAINER_ID} uv pip remove pyW215
          docker exec ${CONTAINER_ID} uv pip remove pyW800rf32
          docker exec ${CONTAINER_ID} uv pip remove py_ccm15
          docker exec ${CONTAINER_ID} uv pip remove pyads
          docker exec ${CONTAINER_ID} uv pip remove pyaehw4a1
          docker exec ${CONTAINER_ID} uv pip remove pyaftership
          docker exec ${CONTAINER_ID} uv pip remove pyairnow
          docker exec ${CONTAINER_ID} uv pip remove pyairobotrest
          docker exec ${CONTAINER_ID} uv pip remove pyairvisual
          docker exec ${CONTAINER_ID} uv pip remove pyanglianwater
          docker exec ${CONTAINER_ID} uv pip remove pyaprilaire
          docker exec ${CONTAINER_ID} uv pip remove pyatag
          docker exec ${CONTAINER_ID} uv pip remove pyatmo
          docker exec ${CONTAINER_ID} uv pip remove pyatv
          docker exec ${CONTAINER_ID} uv pip remove pyaussiebb
          docker exec ${CONTAINER_ID} uv pip remove pybalboa
          docker exec ${CONTAINER_ID} uv pip remove pybbox
          docker exec ${CONTAINER_ID} uv pip remove pyblackbird
          docker exec ${CONTAINER_ID} uv pip remove pyblu
          docker exec ${CONTAINER_ID} uv pip remove pybotvac
          docker exec ${CONTAINER_ID} uv pip remove pybravia
          docker exec ${CONTAINER_ID} uv pip remove pycarwings2
          docker exec ${CONTAINER_ID} uv pip remove pycfdns
          docker exec ${CONTAINER_ID} uv pip remove pychannels
          docker exec ${CONTAINER_ID} uv pip remove pycketcasts
          docker exec ${CONTAINER_ID} uv pip remove pycmus
          docker exec ${CONTAINER_ID} uv pip remove pycomfoconnect
          docker exec ${CONTAINER_ID} uv pip remove pycoolmasternet-async
          docker exec ${CONTAINER_ID} uv pip remove pycountry
          docker exec ${CONTAINER_ID} uv pip remove pycsspeechtts
          docker exec ${CONTAINER_ID} uv pip remove pycync
          docker exec ${CONTAINER_ID} uv pip remove pydaikin
          docker exec ${CONTAINER_ID} uv pip remove pydanfossair
          docker exec ${CONTAINER_ID} uv pip remove pydeako
          docker exec ${CONTAINER_ID} uv pip remove pydeconz
          docker exec ${CONTAINER_ID} uv pip remove pydelijn
          docker exec ${CONTAINER_ID} uv pip remove pydexcom
          docker exec ${CONTAINER_ID} uv pip remove pydiscovergy
          docker exec ${CONTAINER_ID} uv pip remove pydoods
          docker exec ${CONTAINER_ID} uv pip remove pydrawise
          docker exec ${CONTAINER_ID} uv pip remove pydroid-ipcam
          docker exec ${CONTAINER_ID} uv pip remove pydroplet
          docker exec ${CONTAINER_ID} uv pip remove pyebox
          docker exec ${CONTAINER_ID} uv pip remove pyecoforest
          docker exec ${CONTAINER_ID} uv pip remove pyeconet
          docker exec ${CONTAINER_ID} uv pip remove pyecotrend-ista
          docker exec ${CONTAINER_ID} uv pip remove pyedimax
          docker exec ${CONTAINER_ID} uv pip remove pyefergy
          docker exec ${CONTAINER_ID} uv pip remove pyegps
          docker exec ${CONTAINER_ID} uv pip remove pyemoncms
          docker exec ${CONTAINER_ID} uv pip remove pyenphase
          docker exec ${CONTAINER_ID} uv pip remove pyenvisalink
          docker exec ${CONTAINER_ID} uv pip remove pyephember2
          docker exec ${CONTAINER_ID} uv pip remove pyeverlights
          docker exec ${CONTAINER_ID} uv pip remove pyevilgenius
          docker exec ${CONTAINER_ID} uv pip remove pyezvizapi
          docker exec ${CONTAINER_ID} uv pip remove pyfibaro
          docker exec ${CONTAINER_ID} uv pip remove pyfido
          docker exec ${CONTAINER_ID} uv pip remove pyfirefly
          docker exec ${CONTAINER_ID} uv pip remove pyfireservicerota
          docker exec ${CONTAINER_ID} uv pip remove pyflic
          docker exec ${CONTAINER_ID} uv pip remove pyfnip
          docker exec ${CONTAINER_ID} uv pip remove pyforked-daapd
          docker exec ${CONTAINER_ID} uv pip remove pyfreedompro
          docker exec ${CONTAINER_ID} uv pip remove pyfritzhome
          docker exec ${CONTAINER_ID} uv pip remove pyfttt
          docker exec ${CONTAINER_ID} uv pip remove pygatt[GATTTOOL]
          docker exec ${CONTAINER_ID} uv pip remove pygtfs
          docker exec ${CONTAINER_ID} uv pip remove pygti
          docker exec ${CONTAINER_ID} uv pip remove pyhaversion
          docker exec ${CONTAINER_ID} uv pip remove pyheos
          docker exec ${CONTAINER_ID} uv pip remove pyhive-integration
          docker exec ${CONTAINER_ID} uv pip remove pyhomematic
          docker exec ${CONTAINER_ID} uv pip remove pyhomeworks
          docker exec ${CONTAINER_ID} uv pip remove pyialarm
          docker exec ${CONTAINER_ID} uv pip remove pyicloud
          docker exec ${CONTAINER_ID} uv pip remove pyinsteon
          docker exec ${CONTAINER_ID} uv pip remove pyintesishome
          docker exec ${CONTAINER_ID} uv pip remove pyipma
          docker exec ${CONTAINER_ID} uv pip remove pyipp
          docker exec ${CONTAINER_ID} uv pip remove pyiqvia
          docker exec ${CONTAINER_ID} uv pip remove pyirishrail
          docker exec ${CONTAINER_ID} uv pip remove pyiskra
          docker exec ${CONTAINER_ID} uv pip remove pyiss
          docker exec ${CONTAINER_ID} uv pip remove pyisy
          docker exec ${CONTAINER_ID} uv pip remove pyitachip2ir
          docker exec ${CONTAINER_ID} uv pip remove pyituran
          docker exec ${CONTAINER_ID} uv pip remove pyjvcprojector
          docker exec ${CONTAINER_ID} uv pip remove pykaleidescape
          docker exec ${CONTAINER_ID} uv pip remove pykira
          docker exec ${CONTAINER_ID} uv pip remove pykmtronic
          docker exec ${CONTAINER_ID} uv pip remove pykodi
          docker exec ${CONTAINER_ID} uv pip remove pykoplenti
          docker exec ${CONTAINER_ID} uv pip remove pykrakenapi
          docker exec ${CONTAINER_ID} uv pip remove pykulersky
          docker exec ${CONTAINER_ID} uv pip remove pykwb
          docker exec ${CONTAINER_ID} uv pip remove pylacrosse
          docker exec ${CONTAINER_ID} uv pip remove pylamarzocco
          docker exec ${CONTAINER_ID} uv pip remove pylast
          docker exec ${CONTAINER_ID} uv pip remove pylaunches
          docker exec ${CONTAINER_ID} uv pip remove pylgnetcast
          docker exec ${CONTAINER_ID} uv pip remove pylibrespot-java
          docker exec ${CONTAINER_ID} uv pip remove pylitejet
          docker exec ${CONTAINER_ID} uv pip remove pylitterbot
          docker exec ${CONTAINER_ID} uv pip remove pylutron-caseta
          docker exec ${CONTAINER_ID} uv pip remove pylutron
          docker exec ${CONTAINER_ID} uv pip remove pymailgunner
          docker exec ${CONTAINER_ID} uv pip remove pymata-express
          docker exec ${CONTAINER_ID} uv pip remove pymediaroom
          docker exec ${CONTAINER_ID} uv pip remove pymeteoclimatic
          docker exec ${CONTAINER_ID} uv pip remove pymicro-vad
          docker exec ${CONTAINER_ID} uv pip remove pymiele
          docker exec ${CONTAINER_ID} uv pip remove pymitv
          docker exec ${CONTAINER_ID} uv pip remove pymochad
          docker exec ${CONTAINER_ID} uv pip remove pymodbus
          docker exec ${CONTAINER_ID} uv pip remove pymonoprice
          docker exec ${CONTAINER_ID} uv pip remove pymsteams
          docker exec ${CONTAINER_ID} uv pip remove pymysensors
          docker exec ${CONTAINER_ID} uv pip remove pynecil
          docker exec ${CONTAINER_ID} uv pip remove pynetgear
          docker exec ${CONTAINER_ID} uv pip remove pynetio
          docker exec ${CONTAINER_ID} uv pip remove pynina
          docker exec ${CONTAINER_ID} uv pip remove pynintendoparental
          docker exec ${CONTAINER_ID} uv pip remove pynobo
          docker exec ${CONTAINER_ID} uv pip remove pynordpool
          docker exec ${CONTAINER_ID} uv pip remove pynuki
          docker exec ${CONTAINER_ID} uv pip remove pynws[retry]
          docker exec ${CONTAINER_ID} uv pip remove pynx584
          docker exec ${CONTAINER_ID} uv pip remove pynzbgetapi
          docker exec ${CONTAINER_ID} uv pip remove pyobihai
          docker exec ${CONTAINER_ID} uv pip remove pyoctoprintapi
          docker exec ${CONTAINER_ID} uv pip remove pyombi
          docker exec ${CONTAINER_ID} uv pip remove pyopenuv
          docker exec ${CONTAINER_ID} uv pip remove pyopenweathermap
          docker exec ${CONTAINER_ID} uv pip remove pyopnsense
          docker exec ${CONTAINER_ID} uv pip remove pyoppleio-legacy
          docker exec ${CONTAINER_ID} uv pip remove pyosoenergyapi
          docker exec ${CONTAINER_ID} uv pip remove pyotgw
          docker exec ${CONTAINER_ID} uv pip remove pyotp
          docker exec ${CONTAINER_ID} uv pip remove pyoverkiz
          docker exec ${CONTAINER_ID} uv pip remove pypalazzetti
          docker exec ${CONTAINER_ID} uv pip remove pypaperless
          docker exec ${CONTAINER_ID} uv pip remove pypca
          docker exec ${CONTAINER_ID} uv pip remove pypck
          docker exec ${CONTAINER_ID} uv pip remove pypglab
          docker exec ${CONTAINER_ID} uv pip remove pypjlink2
          docker exec ${CONTAINER_ID} uv pip remove pyplaato
          docker exec ${CONTAINER_ID} uv pip remove pypoint
          docker exec ${CONTAINER_ID} uv pip remove pyportainer
          docker exec ${CONTAINER_ID} uv pip remove pyprobeplus
          docker exec ${CONTAINER_ID} uv pip remove pyprof2calltree
          docker exec ${CONTAINER_ID} uv pip remove pyprosegur
          docker exec ${CONTAINER_ID} uv pip remove pyprusalink
          docker exec ${CONTAINER_ID} uv pip remove pyps4-2ndscreen
          docker exec ${CONTAINER_ID} uv pip remove pyqvrpro
          docker exec ${CONTAINER_ID} uv pip remove pyqwikswitch
          docker exec ${CONTAINER_ID} uv pip remove pyrail
          docker exec ${CONTAINER_ID} uv pip remove pyrainbird
          docker exec ${CONTAINER_ID} uv pip remove pyrate-limiter
          docker exec ${CONTAINER_ID} uv pip remove pyrecswitch
          docker exec ${CONTAINER_ID} uv pip remove pyrepetierng
          docker exec ${CONTAINER_ID} uv pip remove pyrisco
          docker exec ${CONTAINER_ID} uv pip remove pyrituals
          docker exec ${CONTAINER_ID} uv pip remove pyroute2
          docker exec ${CONTAINER_ID} uv pip remove pyrympro
          docker exec ${CONTAINER_ID} uv pip remove pysabnzbd
          docker exec ${CONTAINER_ID} uv pip remove pysaj
          docker exec ${CONTAINER_ID} uv pip remove pysaunum
          docker exec ${CONTAINER_ID} uv pip remove pyschlage
          docker exec ${CONTAINER_ID} uv pip remove pysensibo
          docker exec ${CONTAINER_ID} uv pip remove pyserial-asyncio-fast
          docker exec ${CONTAINER_ID} uv pip remove pyserial
          docker exec ${CONTAINER_ID} uv pip remove pysesame2
          docker exec ${CONTAINER_ID} uv pip remove pyseventeentrack
          docker exec ${CONTAINER_ID} uv pip remove pysiaalarm
          docker exec ${CONTAINER_ID} uv pip remove pysignalclirestapi
          docker exec ${CONTAINER_ID} uv pip remove pyskyqhub
          docker exec ${CONTAINER_ID} uv pip remove pysma
          docker exec ${CONTAINER_ID} uv pip remove pysmappee
          docker exec ${CONTAINER_ID} uv pip remove pysmarlaapi
          docker exec ${CONTAINER_ID} uv pip remove pysmartthings
          docker exec ${CONTAINER_ID} uv pip remove pysmarty2
          docker exec ${CONTAINER_ID} uv pip remove pysmhi
          docker exec ${CONTAINER_ID} uv pip remove pysml
          docker exec ${CONTAINER_ID} uv pip remove pysmlight
          docker exec ${CONTAINER_ID} uv pip remove pysnmp
          docker exec ${CONTAINER_ID} uv pip remove pysnooz
          docker exec ${CONTAINER_ID} uv pip remove pysoma
          docker exec ${CONTAINER_ID} uv pip remove pyspcwebgw
          docker exec ${CONTAINER_ID} uv pip remove pyspeex-noise
          docker exec ${CONTAINER_ID} uv pip remove pysqueezebox
          docker exec ${CONTAINER_ID} uv pip remove pystiebeleltron
          docker exec ${CONTAINER_ID} uv pip remove pysuezV2
          docker exec ${CONTAINER_ID} uv pip remove pyswitchbee
          docker exec ${CONTAINER_ID} uv pip remove pytautulli
          docker exec ${CONTAINER_ID} uv pip remove pythinkingcleaner
          docker exec ${CONTAINER_ID} uv pip remove python-MotionMount
          docker exec ${CONTAINER_ID} uv pip remove python-awair
          docker exec ${CONTAINER_ID} uv pip remove python-blockchain-api
          docker exec ${CONTAINER_ID} uv pip remove python-bsblan
          docker exec ${CONTAINER_ID} uv pip remove python-citybikes
          docker exec ${CONTAINER_ID} uv pip remove python-clementine-remote
          docker exec ${CONTAINER_ID} uv pip remove python-digitalocean
          docker exec ${CONTAINER_ID} uv pip remove python-ecobee-api
          docker exec ${CONTAINER_ID} uv pip remove python-etherscan-api
          docker exec ${CONTAINER_ID} uv pip remove python-family-hub-local
          docker exec ${CONTAINER_ID} uv pip remove python-fullykiosk
          docker exec ${CONTAINER_ID} uv pip remove python-gc100
          docker exec ${CONTAINER_ID} uv pip remove python-gitlab
          docker exec ${CONTAINER_ID} uv pip remove python-google-drive-api
          docker exec ${CONTAINER_ID} uv pip remove python-google-weather-api
          docker exec ${CONTAINER_ID} uv pip remove python-homeassistant-analytics
          docker exec ${CONTAINER_ID} uv pip remove python-homewizard-energy
          docker exec ${CONTAINER_ID} uv pip remove python-hpilo
          docker exec ${CONTAINER_ID} uv pip remove python-izone
          docker exec ${CONTAINER_ID} uv pip remove python-join-api
          docker exec ${CONTAINER_ID} uv pip remove python-kasa[speedups]
          docker exec ${CONTAINER_ID} uv pip remove python-linkplay
          docker exec ${CONTAINER_ID} uv pip remove python-matter-server
          docker exec ${CONTAINER_ID} uv pip remove python-melcloud
          docker exec ${CONTAINER_ID} uv pip remove python-miio
          docker exec ${CONTAINER_ID} uv pip remove python-mpd2
          docker exec ${CONTAINER_ID} uv pip remove python-mystrom
          docker exec ${CONTAINER_ID} uv pip remove python-open-router
          docker exec ${CONTAINER_ID} uv pip remove python-opendata-transport
          docker exec ${CONTAINER_ID} uv pip remove python-opensky
          docker exec ${CONTAINER_ID} uv pip remove python-otbr-api
          docker exec ${CONTAINER_ID} uv pip remove python-overseerr
          docker exec ${CONTAINER_ID} uv pip remove python-picnic-api2
          docker exec ${CONTAINER_ID} uv pip remove python-pooldose
          docker exec ${CONTAINER_ID} uv pip remove python-rabbitair
          docker exec ${CONTAINER_ID} uv pip remove python-ripple-api
          docker exec ${CONTAINER_ID} uv pip remove python-roborock
          docker exec ${CONTAINER_ID} uv pip remove python-smarttub
          docker exec ${CONTAINER_ID} uv pip remove python-snoo
          docker exec ${CONTAINER_ID} uv pip remove python-songpal
          docker exec ${CONTAINER_ID} uv pip remove python-tado
          docker exec ${CONTAINER_ID} uv pip remove python-technove
          docker exec ${CONTAINER_ID} uv pip remove python-telegram-bot[socks]
          docker exec ${CONTAINER_ID} uv pip remove python-vlc
          docker exec ${CONTAINER_ID} uv pip remove python-xbox
          docker exec ${CONTAINER_ID} uv pip remove pythonegardia
          docker exec ${CONTAINER_ID} uv pip remove pythonkuma
          docker exec ${CONTAINER_ID} uv pip remove pytile
          docker exec ${CONTAINER_ID} uv pip remove pytomorrowio
          docker exec ${CONTAINER_ID} uv pip remove pytouchline_extended
          docker exec ${CONTAINER_ID} uv pip remove pytouchlinesl
          docker exec ${CONTAINER_ID} uv pip remove pytraccar
          docker exec ${CONTAINER_ID} uv pip remove pytradfri[async]
          docker exec ${CONTAINER_ID} uv pip remove pytrafikverket
          docker exec ${CONTAINER_ID} uv pip remove pytrydan
          docker exec ${CONTAINER_ID} uv pip remove pyuptimerobot
          docker exec ${CONTAINER_ID} uv pip remove pyvera
          docker exec ${CONTAINER_ID} uv pip remove pyversasense
          docker exec ${CONTAINER_ID} uv pip remove pyvesync
          docker exec ${CONTAINER_ID} uv pip remove pyvizio
          docker exec ${CONTAINER_ID} uv pip remove pyvlx
          docker exec ${CONTAINER_ID} uv pip remove pyvolumio
          docker exec ${CONTAINER_ID} uv pip remove pywaze
          docker exec ${CONTAINER_ID} uv pip remove pyweatherflowudp
          docker exec ${CONTAINER_ID} uv pip remove pywebpush
          docker exec ${CONTAINER_ID} uv pip remove pywemo
          docker exec ${CONTAINER_ID} uv pip remove pywilight
          docker exec ${CONTAINER_ID} uv pip remove pywizlight
          docker exec ${CONTAINER_ID} uv pip remove pywmspro
          docker exec ${CONTAINER_ID} uv pip remove pyws66i
          docker exec ${CONTAINER_ID} uv pip remove pyxeoma
          docker exec ${CONTAINER_ID} uv pip remove pyyardian
          docker exec ${CONTAINER_ID} uv pip remove pyzbar
          docker exec ${CONTAINER_ID} uv pip remove pyzerproc
          docker exec ${CONTAINER_ID} uv pip remove qbittorrent-api
          docker exec ${CONTAINER_ID} uv pip remove qbusmqttapi
          docker exec ${CONTAINER_ID} uv pip remove qingping-ble
          docker exec ${CONTAINER_ID} uv pip remove qnapstats
          docker exec ${CONTAINER_ID} uv pip remove quantum-gateway
          docker exec ${CONTAINER_ID} uv pip remove radios
          docker exec ${CONTAINER_ID} uv pip remove radiotherm
          docker exec ${CONTAINER_ID} uv pip remove raincloudy
          docker exec ${CONTAINER_ID} uv pip remove rapt-ble
          docker exec ${CONTAINER_ID} uv pip remove raspyrfm-client
          docker exec ${CONTAINER_ID} uv pip remove refoss-ha
          docker exec ${CONTAINER_ID} uv pip remove regenmaschine
          docker exec ${CONTAINER_ID} uv pip remove renault-api
          docker exec ${CONTAINER_ID} uv pip remove renson-endura-delta
          docker exec ${CONTAINER_ID} uv pip remove reolink-aio
          docker exec ${CONTAINER_ID} uv pip remove rfk101py
          docker exec ${CONTAINER_ID} uv pip remove rflink
          docker exec ${CONTAINER_ID} uv pip remove ring-doorbell
          docker exec ${CONTAINER_ID} uv pip remove ritassist
          docker exec ${CONTAINER_ID} uv pip remove rjpl
          docker exec ${CONTAINER_ID} uv pip remove rocketchat-API
          docker exec ${CONTAINER_ID} uv pip remove rokuecp
          docker exec ${CONTAINER_ID} uv pip remove romy
          docker exec ${CONTAINER_ID} uv pip remove roombapy
          docker exec ${CONTAINER_ID} uv pip remove roonapi
          docker exec ${CONTAINER_ID} uv pip remove rova
          docker exec ${CONTAINER_ID} uv pip remove rpi-bad-power
          docker exec ${CONTAINER_ID} uv pip remove russound
          docker exec ${CONTAINER_ID} uv pip remove ruuvitag-ble
          docker exec ${CONTAINER_ID} uv pip remove rxv
          docker exec ${CONTAINER_ID} uv pip remove samsungctl[websocket]
          docker exec ${CONTAINER_ID} uv pip remove samsungtvws[async,encrypted]
          docker exec ${CONTAINER_ID} uv pip remove sanix
          docker exec ${CONTAINER_ID} uv pip remove satel-integra
          docker exec ${CONTAINER_ID} uv pip remove screenlogicpy
          docker exec ${CONTAINER_ID} uv pip remove scsgate
          docker exec ${CONTAINER_ID} uv pip remove securetar
          docker exec ${CONTAINER_ID} uv pip remove sendgrid
          docker exec ${CONTAINER_ID} uv pip remove sense-energy
          docker exec ${CONTAINER_ID} uv pip remove sensirion-ble
          docker exec ${CONTAINER_ID} uv pip remove sensorpro-ble
          docker exec ${CONTAINER_ID} uv pip remove sensorpush-api
          docker exec ${CONTAINER_ID} uv pip remove sensorpush-ble
          docker exec ${CONTAINER_ID} uv pip remove sensorpush-ha
          docker exec ${CONTAINER_ID} uv pip remove sensoterra
          docker exec ${CONTAINER_ID} uv pip remove sentence-stream
          docker exec ${CONTAINER_ID} uv pip remove sentry-sdk
          docker exec ${CONTAINER_ID} uv pip remove sfrbox-api
          docker exec ${CONTAINER_ID} uv pip remove sharkiq
          docker exec ${CONTAINER_ID} uv pip remove sharp_aquos_rc
          docker exec ${CONTAINER_ID} uv pip remove shodan
          docker exec ${CONTAINER_ID} uv pip remove simplefin4py
          docker exec ${CONTAINER_ID} uv pip remove simplehound
          docker exec ${CONTAINER_ID} uv pip remove simplepush
          docker exec ${CONTAINER_ID} uv pip remove simplisafe-python
          docker exec ${CONTAINER_ID} uv pip remove sisyphus-control
          docker exec ${CONTAINER_ID} uv pip remove skyboxremote
          docker exec ${CONTAINER_ID} uv pip remove slack_sdk
          docker exec ${CONTAINER_ID} uv pip remove slixmpp
          docker exec ${CONTAINER_ID} uv pip remove smart-meter-texas
          docker exec ${CONTAINER_ID} uv pip remove snapcast
          docker exec ${CONTAINER_ID} uv pip remove soco
          docker exec ${CONTAINER_ID} uv pip remove solaredge-local
          docker exec ${CONTAINER_ID} uv pip remove solaredge-web
          docker exec ${CONTAINER_ID} uv pip remove solarlog_cli
          docker exec ${CONTAINER_ID} uv pip remove solax
          docker exec ${CONTAINER_ID} uv pip remove somfy-mylink-synergy
          docker exec ${CONTAINER_ID} uv pip remove sonos-websocket
          docker exec ${CONTAINER_ID} uv pip remove speak2mary
          docker exec ${CONTAINER_ID} uv pip remove speedtest-cli
          docker exec ${CONTAINER_ID} uv pip remove spotifyaio
          docker exec ${CONTAINER_ID} uv pip remove sqlparse
          docker exec ${CONTAINER_ID} uv pip remove srpenergy
          docker exec ${CONTAINER_ID} uv pip remove starline
          docker exec ${CONTAINER_ID} uv pip remove starlingbank
          docker exec ${CONTAINER_ID} uv pip remove starlink-grpc-core
          docker exec ${CONTAINER_ID} uv pip remove statsd
          docker exec ${CONTAINER_ID} uv pip remove steamodd
          docker exec ${CONTAINER_ID} uv pip remove stookwijzer
          docker exec ${CONTAINER_ID} uv pip remove streamlabswater
          docker exec ${CONTAINER_ID} uv pip remove subarulink
          docker exec ${CONTAINER_ID} uv pip remove surepy
          docker exec ${CONTAINER_ID} uv pip remove swisshydrodata
          docker exec ${CONTAINER_ID} uv pip remove switchbot-api
          docker exec ${CONTAINER_ID} uv pip remove synology-srm
          docker exec ${CONTAINER_ID} uv pip remove systembridgeconnector
          docker exec ${CONTAINER_ID} uv pip remove tailscale
          docker exec ${CONTAINER_ID} uv pip remove tank-utility
          docker exec ${CONTAINER_ID} uv pip remove tapsaff
          docker exec ${CONTAINER_ID} uv pip remove tellcore-net
          docker exec ${CONTAINER_ID} uv pip remove tellcore-py
          docker exec ${CONTAINER_ID} uv pip remove tellduslive
          docker exec ${CONTAINER_ID} uv pip remove temescal
          docker exec ${CONTAINER_ID} uv pip remove temperusb
          docker exec ${CONTAINER_ID} uv pip remove tesla-fleet-api
          docker exec ${CONTAINER_ID} uv pip remove tesla-powerwall
          docker exec ${CONTAINER_ID} uv pip remove tesla-wall-connector
          docker exec ${CONTAINER_ID} uv pip remove teslemetry-stream
          docker exec ${CONTAINER_ID} uv pip remove tessie-api
          docker exec ${CONTAINER_ID} uv pip remove thermobeacon-ble
          docker exec ${CONTAINER_ID} uv pip remove thermopro-ble
          docker exec ${CONTAINER_ID} uv pip remove thingspeak
          docker exec ${CONTAINER_ID} uv pip remove thinqconnect
          docker exec ${CONTAINER_ID} uv pip remove tikteck
          docker exec ${CONTAINER_ID} uv pip remove tilt-ble
          docker exec ${CONTAINER_ID} uv pip remove tilt-pi
          docker exec ${CONTAINER_ID} uv pip remove tmb
          docker exec ${CONTAINER_ID} uv pip remove todoist-api-python
          docker exec ${CONTAINER_ID} uv pip remove togrill-bluetooth
          docker exec ${CONTAINER_ID} uv pip remove tololib
          docker exec ${CONTAINER_ID} uv pip remove toonapi
          docker exec ${CONTAINER_ID} uv pip remove total-connect-client
          docker exec ${CONTAINER_ID} uv pip remove tp-connected
          docker exec ${CONTAINER_ID} uv pip remove tplink-omada-client
          docker exec ${CONTAINER_ID} uv pip remove transmission-rpc
          docker exec ${CONTAINER_ID} uv pip remove triggercmd
          docker exec ${CONTAINER_ID} uv pip remove ttls
          docker exec ${CONTAINER_ID} uv pip remove ttn_client
          docker exec ${CONTAINER_ID} uv pip remove tuya-device-sharing-sdk
          docker exec ${CONTAINER_ID} uv pip remove twentemilieu
          docker exec ${CONTAINER_ID} uv pip remove twilio
          docker exec ${CONTAINER_ID} uv pip remove twitchAPI
          docker exec ${CONTAINER_ID} uv pip remove typedmonarchmoney
          docker exec ${CONTAINER_ID} uv pip remove uasiren
          docker exec ${CONTAINER_ID} uv pip remove uiprotect
          docker exec ${CONTAINER_ID} uv pip remove ultraheat-api
          docker exec ${CONTAINER_ID} uv pip remove unifi-discovery
          docker exec ${CONTAINER_ID} uv pip remove unifi_ap
          docker exec ${CONTAINER_ID} uv pip remove unifiled
          docker exec ${CONTAINER_ID} uv pip remove universal-silabs-flasher
          docker exec ${CONTAINER_ID} uv pip remove upb-lib
          docker exec ${CONTAINER_ID} uv pip remove upcloud-api
          docker exec ${CONTAINER_ID} uv pip remove url-normalize
          docker exec ${CONTAINER_ID} uv pip remove uvcclient
          docker exec ${CONTAINER_ID} uv pip remove vacuum-map-parser-roborock
          docker exec ${CONTAINER_ID} uv pip remove vallox-websocket-api
          docker exec ${CONTAINER_ID} uv pip remove vegehub
          docker exec ${CONTAINER_ID} uv pip remove vehicle
          docker exec ${CONTAINER_ID} uv pip remove velbus-aio
          docker exec ${CONTAINER_ID} uv pip remove venstarcolortouch
          docker exec ${CONTAINER_ID} uv pip remove victron-ble-ha-parser
          docker exec ${CONTAINER_ID} uv pip remove victron-vrm
          docker exec ${CONTAINER_ID} uv pip remove vilfo-api-client
          docker exec ${CONTAINER_ID} uv pip remove vobject
          docker exec ${CONTAINER_ID} uv pip remove voip-utils
          docker exec ${CONTAINER_ID} uv pip remove volkszaehler
          docker exec ${CONTAINER_ID} uv pip remove volvocarsapi
          docker exec ${CONTAINER_ID} uv pip remove vsure
          docker exec ${CONTAINER_ID} uv pip remove vtjp
          docker exec ${CONTAINER_ID} uv pip remove wakeonlan
          docker exec ${CONTAINER_ID} uv pip remove wallbox
          docker exec ${CONTAINER_ID} uv pip remove watchdog
          docker exec ${CONTAINER_ID} uv pip remove waterfurnace
          docker exec ${CONTAINER_ID} uv pip remove watergate-local-api
          docker exec ${CONTAINER_ID} uv pip remove weatherflow4py
          docker exec ${CONTAINER_ID} uv pip remove webexpythonsdk
          docker exec ${CONTAINER_ID} uv pip remove webio-api
          docker exec ${CONTAINER_ID} uv pip remove webmin-xmlrpc
          docker exec ${CONTAINER_ID} uv pip remove weheat
          docker exec ${CONTAINER_ID} uv pip remove whirlpool-sixth-sense
          docker exec ${CONTAINER_ID} uv pip remove whois
          docker exec ${CONTAINER_ID} uv pip remove wiffi
          docker exec ${CONTAINER_ID} uv pip remove wirelesstagpy
          docker exec ${CONTAINER_ID} uv pip remove wled
          docker exec ${CONTAINER_ID} uv pip remove wolf-comm
          docker exec ${CONTAINER_ID} uv pip remove wsdot
          docker exec ${CONTAINER_ID} uv pip remove wyoming
          docker exec ${CONTAINER_ID} uv pip remove xiaomi-ble
          docker exec ${CONTAINER_ID} uv pip remove xknx
          docker exec ${CONTAINER_ID} uv pip remove xknxproject
          docker exec ${CONTAINER_ID} uv pip remove xmltodict
          docker exec ${CONTAINER_ID} uv pip remove xs1-api-client
          docker exec ${CONTAINER_ID} uv pip remove yalesmartalarmclient
          docker exec ${CONTAINER_ID} uv pip remove yalexs-ble
          docker exec ${CONTAINER_ID} uv pip remove yalexs
          docker exec ${CONTAINER_ID} uv pip remove yeelight
          docker exec ${CONTAINER_ID} uv pip remove yeelightsunflower
          docker exec ${CONTAINER_ID} uv pip remove yolink-api
          docker exec ${CONTAINER_ID} uv pip remove youless-api
          docker exec ${CONTAINER_ID} uv pip remove youtubeaio
          docker exec ${CONTAINER_ID} uv pip remove yt-dlp[default]
          docker exec ${CONTAINER_ID} uv pip remove zabbix-utils
          docker exec ${CONTAINER_ID} uv pip remove zamg
          docker exec ${CONTAINER_ID} uv pip remove zcc-helper
          docker exec ${CONTAINER_ID} uv pip remove zeroconf
          docker exec ${CONTAINER_ID} uv pip remove zeversolar
          docker exec ${CONTAINER_ID} uv pip remove zha
          docker exec ${CONTAINER_ID} uv pip remove zhong-hong-hvac
          docker exec ${CONTAINER_ID} uv pip remove ziggo-mediabox-xl
          docker exec ${CONTAINER_ID} uv pip remove zm-py
          docker exec ${CONTAINER_ID} uv pip remove zwave-js-server-python
          docker exec ${CONTAINER_ID} uv pip remove zwave-me-ws
          echo "Removed packages in requirement_all.txt"

      - name: Export container to tar file
        run: |
          docker export ${CONTAINER_ID} > home-assistant-arm64-slim_${{ env.HA_VERSION }}.tar
          echo "Exported container to home-assistant-arm64-slim_${{ env.HA_VERSION }}.tar"

      - name: Stop and remove container
        run: |
          docker stop ${CONTAINER_ID}
          docker rm ${CONTAINER_ID}
          echo "Stopped and removed container"

      - name: Import tar as new image
        run: |
          docker import home-assistant-arm64-slim_${{ env.HA_VERSION }}.tar home-assistant-arm64-slim:${{ env.HA_VERSION }}
          echo "Imported tar as home-assistant-arm64-slim:${{ env.HA_VERSION }}"

      - name: Get new image size
        run: |
          NEW_SIZE=$(docker images --format "table {{.Repository}}:{{.Tag}}\t{{.Size}}" home-assistant-arm64-slim:${{ env.HA_VERSION }} | tail -n 1 | awk '{print $2}')
          echo "NEW_SIZE=${NEW_SIZE}" >> $GITHUB_ENV
          echo "新镜像大小: ${NEW_SIZE}"

      - name: Calculate size reduction percentage
        run: |
          # Convert sizes to bytes for calculation
          ORIGINAL_SIZE_BYTES=$(echo "${{ env.ORIGINAL_SIZE }}" | sed 's/GB/*1024*1024*1024/g; s/MB/*1024*1024/g; s/KB/*1024/g; s/B//g' | bc)
          NEW_SIZE_BYTES=$(echo "${{ env.NEW_SIZE }}" | sed 's/GB/*1024*1024*1024/g; s/MB/*1024*1024/g; s/KB/*1024/g; s/B//g' | bc)
          
          # Calculate percentage reduction
          REDUCTION=$(echo "scale=2; ((${ORIGINAL_SIZE_BYTES} - ${NEW_SIZE_BYTES}) * 100) / ${ORIGINAL_SIZE_BYTES}" | bc)
          echo "SIZE_REDUCTION=${REDUCTION}%" >> $GITHUB_ENV
          echo "镜像大小减少: ${REDUCTION}%"

      - name: Create builder with docker-container driver
        run: |
          # Create a new builder with docker-container driver
          docker buildx create --use --driver docker-container --name container-builder
          echo "BUILDER_NAME=container-builder" >> $GITHUB_ENV

      - name: Tag and push local image directly
        run: |
          # Convert repository name to lowercase
          REPO_NAME=$(echo '${{ github.repository }}' | tr '[:upper:]' '[:lower:]')
          
          # Tag the local image for GitHub Container Registry
          docker tag home-assistant-arm64-slim:${{ env.HA_VERSION }} ghcr.io/${REPO_NAME}:${{ env.HA_VERSION }}
          
          # Push the image directly
          docker push ghcr.io/${REPO_NAME}:${{ env.HA_VERSION }}
          echo "Pushed image to GitHub Container Registry"
          echo "镜像已推送到GitHub Container Registry，可以使用以下命令拉取："
          echo "docker pull ghcr.io/${REPO_NAME}:${{ env.HA_VERSION }}"

      - name: Output final message
        run: |
          echo "镜像已推送到GitHub Container Registry，可以使用以下命令拉取："
          echo "docker pull ghcr.io/${{ github.repository }}:${{ env.HA_VERSION }}"