name: Build and Push Home Assistant ARM64 Slim Image

on:
  workflow_dispatch:
    inputs:
      ha_version:
        description: 'Home Assistant version tag (e.g., 2025.12.5)'
        required: true
        default: '2025.12.5'
        type: string

env:
  HA_VERSION: ${{ inputs.ha_version }}

jobs:
  build-and-push:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      packages: write
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Log in to GitHub Container Registry
        uses: docker/login-action@v3
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata
        id: meta
        uses: docker/metadata-action@v5
        with:
          images: ghcr.io/${{ github.repository }}
          tags: |
            type=raw,value=${{ env.HA_VERSION }}
            type=raw,value=latest,enable={{is_default_branch}}

      - name: Pull original image and get size
        run: |
          docker pull --platform linux/arm64 ghcr.io/home-assistant/home-assistant:${{ env.HA_VERSION }}
          ORIGINAL_SIZE=$(docker images --format "table {{.Repository}}:{{.Tag}}\t{{.Size}}" ghcr.io/home-assistant/home-assistant:${{ env.HA_VERSION }} | tail -n 1 | awk '{print $2}')
          echo "ORIGINAL_SIZE=${ORIGINAL_SIZE}" >> $GITHUB_ENV
          echo "原始镜像大小: ${ORIGINAL_SIZE}"

      - name: Start container and get container ID
        run: |
          CONTAINER_ID=$(docker run --platform linux/arm64 -d ghcr.io/home-assistant/home-assistant:${{ env.HA_VERSION }} sleep infinity)
          echo "CONTAINER_ID=${CONTAINER_ID}" >> $GITHUB_ENV
          echo "Started container with ID: ${CONTAINER_ID}"

      - name: Remove packages from container
        run: |
          docker exec -it ${CONTAINER_ID} uv pip uninstall AEMET-OpenData
          docker exec -it ${CONTAINER_ID} uv pip uninstall AIOSomecomfort
          docker exec -it ${CONTAINER_ID} uv pip uninstall Adax-local
          docker exec -it ${CONTAINER_ID} uv pip uninstall DoorBirdPy
          docker exec -it ${CONTAINER_ID} uv pip uninstall HAP-python
          docker exec -it ${CONTAINER_ID} uv pip uninstall HATasmota
          docker exec -it ${CONTAINER_ID} uv pip uninstall HueBLE
          docker exec -it ${CONTAINER_ID} uv pip uninstall Mastodon.py
          docker exec -it ${CONTAINER_ID} uv pip uninstall PSNAWP
          docker exec -it ${CONTAINER_ID} uv pip uninstall Pillow
          docker exec -it ${CONTAINER_ID} uv pip uninstall PlexAPI
          docker exec -it ${CONTAINER_ID} uv pip uninstall ProgettiHWSW
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyChromecast
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyFlume
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyFronius
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyLoadAPI
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyMetEireann
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyMetno
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyMicroBot
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyNaCl
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyQRCode
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyRMVtransport
          docker exec -it ${CONTAINER_ID} uv pip uninstall PySrDaliGateway
          docker exec -it ${CONTAINER_ID} uv pip uninstall PySwitchbot
          docker exec -it ${CONTAINER_ID} uv pip uninstall PySwitchmate
          docker exec -it ${CONTAINER_ID} uv pip uninstall PySyncThru
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyTransportNSW
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyTurboJPEG
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyViCare
          docker exec -it ${CONTAINER_ID} uv pip uninstall PyXiaomiGateway
          docker exec -it ${CONTAINER_ID} uv pip uninstall RachioPy
          docker exec -it ${CONTAINER_ID} uv pip uninstall RestrictedPython
          docker exec -it ${CONTAINER_ID} uv pip uninstall RtmAPI
          docker exec -it ${CONTAINER_ID} uv pip uninstall SQLAlchemy
          docker exec -it ${CONTAINER_ID} uv pip uninstall Tami4EdgeAPI
          docker exec -it ${CONTAINER_ID} uv pip uninstall TravisPy
          docker exec -it ${CONTAINER_ID} uv pip uninstall TwitterAPI
          docker exec -it ${CONTAINER_ID} uv pip uninstall WSDiscovery
          docker exec -it ${CONTAINER_ID} uv pip uninstall accuweather
          docker exec -it ${CONTAINER_ID} uv pip uninstall actron-neo-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall adax
          docker exec -it ${CONTAINER_ID} uv pip uninstall adb-shell[async]
          docker exec -it ${CONTAINER_ID} uv pip uninstall adext
          docker exec -it ${CONTAINER_ID} uv pip uninstall adguardhome
          docker exec -it ${CONTAINER_ID} uv pip uninstall advantage-air
          docker exec -it ${CONTAINER_ID} uv pip uninstall afsapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall agent-py
          docker exec -it ${CONTAINER_ID} uv pip uninstall aio-geojson-generic-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall aio-geojson-geonetnz-quakes
          docker exec -it ${CONTAINER_ID} uv pip uninstall aio-geojson-geonetnz-volcano
          docker exec -it ${CONTAINER_ID} uv pip uninstall aio-geojson-nsw-rfs-incidents
          docker exec -it ${CONTAINER_ID} uv pip uninstall aio-geojson-usgs-earthquakes
          docker exec -it ${CONTAINER_ID} uv pip uninstall aio-georss-gdacs
          docker exec -it ${CONTAINER_ID} uv pip uninstall aio-ownet
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioacaia
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioairq
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioairzone-cloud
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioairzone
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioamazondevices
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioambient
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioapcaccess
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioaquacell
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioaseko
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioasuswrt
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioautomower
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioazuredevops
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiobafi6
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiobotocore
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiocomelit
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiodhcpwatcher
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiodiscover
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiodns
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiodukeenergy
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioeafm
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioeagle
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioecowitt
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioelectricitymaps
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioemonitor
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioesphomeapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiofiles
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioflo
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioftp
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiogithubapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioguardian
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioharmony
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiohasupervisor
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiohomeconnect
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiohomekit
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiohttp_sse
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiohue
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioimaplib
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioimmich
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiokafka
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiokef
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiokem
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiolifx-effects
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiolifx-themes
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiolifx
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiolookin
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiolyric
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiomealie
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiomodernforms
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiomusiccast
          docker exec -it ${CONTAINER_ID} uv pip uninstall aionanoleaf
          docker exec -it ${CONTAINER_ID} uv pip uninstall aionotion
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiontfy
          docker exec -it ${CONTAINER_ID} uv pip uninstall aionut
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioonkyo
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioopenexchangerates
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiooui
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiopegelonline
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiopulse
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiopurpleair
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiopvapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiopvpc
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiopyarr
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioqsw
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioraven
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiorecollect
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioridwell
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioruckus
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiorussound
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioruuvigateway
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiosenz
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioshelly
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioskybell
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioslimproto
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiosolaredge
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiosteamist
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiostreammagic
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioswitcher
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiosyncthing
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiotankerkoenig
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiotedee
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiotractive
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiounifi
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiousbwatcher
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiovlc
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiovodafone
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiowaqi
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiowatttime
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiowebdav2
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiowebostv
          docker exec -it ${CONTAINER_ID} uv pip uninstall aiowithings
          docker exec -it ${CONTAINER_ID} uv pip uninstall aioymaps
          docker exec -it ${CONTAINER_ID} uv pip uninstall airgradient
          docker exec -it ${CONTAINER_ID} uv pip uninstall airly
          docker exec -it ${CONTAINER_ID} uv pip uninstall airos
          docker exec -it ${CONTAINER_ID} uv pip uninstall airthings-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall airthings-cloud
          docker exec -it ${CONTAINER_ID} uv pip uninstall airtouch4pyapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall airtouch5py
          docker exec -it ${CONTAINER_ID} uv pip uninstall alpha-vantage
          docker exec -it ${CONTAINER_ID} uv pip uninstall altruistclient
          docker exec -it ${CONTAINER_ID} uv pip uninstall amberelectric
          docker exec -it ${CONTAINER_ID} uv pip uninstall amcrest
          docker exec -it ${CONTAINER_ID} uv pip uninstall androidtv[async]
          docker exec -it ${CONTAINER_ID} uv pip uninstall androidtvremote2
          docker exec -it ${CONTAINER_ID} uv pip uninstall anel-pwrctrl-homeassistant
          docker exec -it ${CONTAINER_ID} uv pip uninstall anova-wifi
          docker exec -it ${CONTAINER_ID} uv pip uninstall anthemav
          docker exec -it ${CONTAINER_ID} uv pip uninstall anthropic
          docker exec -it ${CONTAINER_ID} uv pip uninstall anyio
          docker exec -it ${CONTAINER_ID} uv pip uninstall apple_weatherkit
          docker exec -it ${CONTAINER_ID} uv pip uninstall apprise
          docker exec -it ${CONTAINER_ID} uv pip uninstall aprslib
          docker exec -it ${CONTAINER_ID} uv pip uninstall apsystems-ez1
          docker exec -it ${CONTAINER_ID} uv pip uninstall aqualogic
          docker exec -it ${CONTAINER_ID} uv pip uninstall aranet4
          docker exec -it ${CONTAINER_ID} uv pip uninstall arcam-fmj
          docker exec -it ${CONTAINER_ID} uv pip uninstall arris-tg2492lg
          docker exec -it ${CONTAINER_ID} uv pip uninstall asmog
          docker exec -it ${CONTAINER_ID} uv pip uninstall asusrouter
          docker exec -it ${CONTAINER_ID} uv pip uninstall async-upnp-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall asyncarve
          docker exec -it ${CONTAINER_ID} uv pip uninstall asyncinotify
          docker exec -it ${CONTAINER_ID} uv pip uninstall asyncpysupla
          docker exec -it ${CONTAINER_ID} uv pip uninstall asyncsleepiq
          docker exec -it ${CONTAINER_ID} uv pip uninstall asyncssh
          docker exec -it ${CONTAINER_ID} uv pip uninstall # atenpdu
          docker exec -it ${CONTAINER_ID} uv pip uninstall auroranoaa
          docker exec -it ${CONTAINER_ID} uv pip uninstall aurorapy
          docker exec -it ${CONTAINER_ID} uv pip uninstall autarco
          docker exec -it ${CONTAINER_ID} uv pip uninstall automower-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall av
          docker exec -it ${CONTAINER_ID} uv pip uninstall avea
          docker exec -it ${CONTAINER_ID} uv pip uninstall # avion
          docker exec -it ${CONTAINER_ID} uv pip uninstall axis
          docker exec -it ${CONTAINER_ID} uv pip uninstall ayla-iot-unofficial
          docker exec -it ${CONTAINER_ID} uv pip uninstall azure-eventhub
          docker exec -it ${CONTAINER_ID} uv pip uninstall azure-kusto-data[aio]
          docker exec -it ${CONTAINER_ID} uv pip uninstall azure-kusto-ingest
          docker exec -it ${CONTAINER_ID} uv pip uninstall azure-servicebus
          docker exec -it ${CONTAINER_ID} uv pip uninstall azure-storage-blob
          docker exec -it ${CONTAINER_ID} uv pip uninstall b2sdk
          docker exec -it ${CONTAINER_ID} uv pip uninstall babel
          docker exec -it ${CONTAINER_ID} uv pip uninstall baidu-aip
          docker exec -it ${CONTAINER_ID} uv pip uninstall base36
          docker exec -it ${CONTAINER_ID} uv pip uninstall batinfo
          docker exec -it ${CONTAINER_ID} uv pip uninstall beautifulsoup4
          docker exec -it ${CONTAINER_ID} uv pip uninstall # beewi-smartclim
          docker exec -it ${CONTAINER_ID} uv pip uninstall bimmer-connected[china]
          docker exec -it ${CONTAINER_ID} uv pip uninstall bizkaibus
          docker exec -it ${CONTAINER_ID} uv pip uninstall bleak-esphome
          docker exec -it ${CONTAINER_ID} uv pip uninstall bleak-retry-connector
          docker exec -it ${CONTAINER_ID} uv pip uninstall bleak
          docker exec -it ${CONTAINER_ID} uv pip uninstall blebox-uniapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall blinkpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall blockchain
          docker exec -it ${CONTAINER_ID} uv pip uninstall bluecurrent-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall bluemaestro-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall bluetooth-adapters
          docker exec -it ${CONTAINER_ID} uv pip uninstall bluetooth-auto-recovery
          docker exec -it ${CONTAINER_ID} uv pip uninstall bluetooth-data-tools
          docker exec -it ${CONTAINER_ID} uv pip uninstall bond-async
          docker exec -it ${CONTAINER_ID} uv pip uninstall bosch-alarm-mode2
          docker exec -it ${CONTAINER_ID} uv pip uninstall boschshcpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall boto3
          docker exec -it ${CONTAINER_ID} uv pip uninstall botocore
          docker exec -it ${CONTAINER_ID} uv pip uninstall bring-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall broadlink
          docker exec -it ${CONTAINER_ID} uv pip uninstall brother
          docker exec -it ${CONTAINER_ID} uv pip uninstall brottsplatskartan
          docker exec -it ${CONTAINER_ID} uv pip uninstall brunt
          docker exec -it ${CONTAINER_ID} uv pip uninstall bthome-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall bthomehub5-devicelist
          docker exec -it ${CONTAINER_ID} uv pip uninstall btsmarthub-devicelist
          docker exec -it ${CONTAINER_ID} uv pip uninstall buienradar
          docker exec -it ${CONTAINER_ID} uv pip uninstall cached-ipaddress
          docker exec -it ${CONTAINER_ID} uv pip uninstall caldav
          docker exec -it ${CONTAINER_ID} uv pip uninstall ciscomobilityexpress
          docker exec -it ${CONTAINER_ID} uv pip uninstall clearpasspy
          docker exec -it ${CONTAINER_ID} uv pip uninstall clx-sdk-xms
          docker exec -it ${CONTAINER_ID} uv pip uninstall coinbase-advanced-py
          docker exec -it ${CONTAINER_ID} uv pip uninstall colorlog
          docker exec -it ${CONTAINER_ID} uv pip uninstall colorthief
          docker exec -it ${CONTAINER_ID} uv pip uninstall compit-inext-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall concord232
          docker exec -it ${CONTAINER_ID} uv pip uninstall connect-box
          docker exec -it ${CONTAINER_ID} uv pip uninstall construct
          docker exec -it ${CONTAINER_ID} uv pip uninstall cookidoo-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall cronsim
          docker exec -it ${CONTAINER_ID} uv pip uninstall crownstone-cloud
          docker exec -it ${CONTAINER_ID} uv pip uninstall crownstone-sse
          docker exec -it ${CONTAINER_ID} uv pip uninstall crownstone-uart
          docker exec -it ${CONTAINER_ID} uv pip uninstall datadog
          docker exec -it ${CONTAINER_ID} uv pip uninstall datapoint
          docker exec -it ${CONTAINER_ID} uv pip uninstall dbus-fast
          docker exec -it ${CONTAINER_ID} uv pip uninstall debugpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall decora-wifi
          docker exec -it ${CONTAINER_ID} uv pip uninstall deebot-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall defusedxml
          docker exec -it ${CONTAINER_ID} uv pip uninstall deluge-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall demetriek
          docker exec -it ${CONTAINER_ID} uv pip uninstall denonavr
          docker exec -it ${CONTAINER_ID} uv pip uninstall devialet
          docker exec -it ${CONTAINER_ID} uv pip uninstall devolo-home-control-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall devolo-plc-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall dio-chacon-wifi-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall directv
          docker exec -it ${CONTAINER_ID} uv pip uninstall discogs-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall discovery30303
          docker exec -it ${CONTAINER_ID} uv pip uninstall dremel3dpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall dropmqttapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall dsmr-parser
          docker exec -it ${CONTAINER_ID} uv pip uninstall dwdwfsapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall dynalite-devices
          docker exec -it ${CONTAINER_ID} uv pip uninstall dynalite-panel
          docker exec -it ${CONTAINER_ID} uv pip uninstall eagle100
          docker exec -it ${CONTAINER_ID} uv pip uninstall easyenergy
          docker exec -it ${CONTAINER_ID} uv pip uninstall ebusdpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall ecoaliface
          docker exec -it ${CONTAINER_ID} uv pip uninstall eheimdigital
          docker exec -it ${CONTAINER_ID} uv pip uninstall ekey-bionyxpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall electrickiwi-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall elevenlabs
          docker exec -it ${CONTAINER_ID} uv pip uninstall elgato
          docker exec -it ${CONTAINER_ID} uv pip uninstall eliqonline
          docker exec -it ${CONTAINER_ID} uv pip uninstall elkm1-lib
          docker exec -it ${CONTAINER_ID} uv pip uninstall elkoep-aio-mqtt
          docker exec -it ${CONTAINER_ID} uv pip uninstall elmax-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall elvia
          docker exec -it ${CONTAINER_ID} uv pip uninstall emoji
          docker exec -it ${CONTAINER_ID} uv pip uninstall emulated-roku
          docker exec -it ${CONTAINER_ID} uv pip uninstall energyflip-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall energyid-webhooks
          docker exec -it ${CONTAINER_ID} uv pip uninstall energyzero
          docker exec -it ${CONTAINER_ID} uv pip uninstall enocean
          docker exec -it ${CONTAINER_ID} uv pip uninstall enturclient
          docker exec -it ${CONTAINER_ID} uv pip uninstall env-canada
          docker exec -it ${CONTAINER_ID} uv pip uninstall ephem
          docker exec -it ${CONTAINER_ID} uv pip uninstall epicstore-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall epion
          docker exec -it ${CONTAINER_ID} uv pip uninstall epson-projector
          docker exec -it ${CONTAINER_ID} uv pip uninstall eq3btsmart
          docker exec -it ${CONTAINER_ID} uv pip uninstall esphome-dashboard-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall essent-dynamic-pricing
          docker exec -it ${CONTAINER_ID} uv pip uninstall eternalegypt
          docker exec -it ${CONTAINER_ID} uv pip uninstall eufylife-ble-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall # evdev
          docker exec -it ${CONTAINER_ID} uv pip uninstall evohome-async
          docker exec -it ${CONTAINER_ID} uv pip uninstall evolutionhttp
          docker exec -it ${CONTAINER_ID} uv pip uninstall faadelays
          docker exec -it ${CONTAINER_ID} uv pip uninstall fastdotcom
          docker exec -it ${CONTAINER_ID} uv pip uninstall feedparser
          docker exec -it ${CONTAINER_ID} uv pip uninstall file-read-backwards
          docker exec -it ${CONTAINER_ID} uv pip uninstall fing_agent_api
          docker exec -it ${CONTAINER_ID} uv pip uninstall fints
          docker exec -it ${CONTAINER_ID} uv pip uninstall fitbit-web-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall fitbit
          docker exec -it ${CONTAINER_ID} uv pip uninstall fivem-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall fixerio
          docker exec -it ${CONTAINER_ID} uv pip uninstall fjaraskupan
          docker exec -it ${CONTAINER_ID} uv pip uninstall flexit_bacnet
          docker exec -it ${CONTAINER_ID} uv pip uninstall flipr-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall flux-led
          docker exec -it ${CONTAINER_ID} uv pip uninstall fnv-hash-fast
          docker exec -it ${CONTAINER_ID} uv pip uninstall foobot_async
          docker exec -it ${CONTAINER_ID} uv pip uninstall forecast-solar
          docker exec -it ${CONTAINER_ID} uv pip uninstall fortiosapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall freebox-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall freesms
          docker exec -it ${CONTAINER_ID} uv pip uninstall fressnapftracker
          docker exec -it ${CONTAINER_ID} uv pip uninstall fritzconnection[qr]
          docker exec -it ${CONTAINER_ID} uv pip uninstall fyta_cli
          docker exec -it ${CONTAINER_ID} uv pip uninstall gTTS
          docker exec -it ${CONTAINER_ID} uv pip uninstall gardena-bluetooth
          docker exec -it ${CONTAINER_ID} uv pip uninstall gassist-text
          docker exec -it ${CONTAINER_ID} uv pip uninstall gcal-sync
          docker exec -it ${CONTAINER_ID} uv pip uninstall genie-partner-sdk
          docker exec -it ${CONTAINER_ID} uv pip uninstall geniushub-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall geocachingapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall geopy
          docker exec -it ${CONTAINER_ID} uv pip uninstall georss-generic-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall georss-ign-sismologia-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall georss-qld-bushfire-alert-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall getmac
          docker exec -it ${CONTAINER_ID} uv pip uninstall gios
          docker exec -it ${CONTAINER_ID} uv pip uninstall gitterpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall glances-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall go2rtc-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall goalzero
          docker exec -it ${CONTAINER_ID} uv pip uninstall goodwe
          docker exec -it ${CONTAINER_ID} uv pip uninstall google-api-python-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall google-cloud-pubsub
          docker exec -it ${CONTAINER_ID} uv pip uninstall google-cloud-speech
          docker exec -it ${CONTAINER_ID} uv pip uninstall google-cloud-texttospeech
          docker exec -it ${CONTAINER_ID} uv pip uninstall google-genai
          docker exec -it ${CONTAINER_ID} uv pip uninstall google-maps-routing
          docker exec -it ${CONTAINER_ID} uv pip uninstall google-nest-sdm
          docker exec -it ${CONTAINER_ID} uv pip uninstall google-photos-library-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall google_air_quality_api
          docker exec -it ${CONTAINER_ID} uv pip uninstall goslide-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall gotailwind
          docker exec -it ${CONTAINER_ID} uv pip uninstall govee-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall govee-local-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall gpiozero
          docker exec -it ${CONTAINER_ID} uv pip uninstall gps3
          docker exec -it ${CONTAINER_ID} uv pip uninstall greeclimate
          docker exec -it ${CONTAINER_ID} uv pip uninstall greeneye_monitor
          docker exec -it ${CONTAINER_ID} uv pip uninstall greenwavereality
          docker exec -it ${CONTAINER_ID} uv pip uninstall gridnet
          docker exec -it ${CONTAINER_ID} uv pip uninstall growattServer
          docker exec -it ${CONTAINER_ID} uv pip uninstall gspread
          docker exec -it ${CONTAINER_ID} uv pip uninstall guppy3
          docker exec -it ${CONTAINER_ID} uv pip uninstall h2
          docker exec -it ${CONTAINER_ID} uv pip uninstall ha-ffmpeg
          docker exec -it ${CONTAINER_ID} uv pip uninstall ha-iotawattpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall ha-philipsjs
          docker exec -it ${CONTAINER_ID} uv pip uninstall ha-silabs-firmware-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall habiticalib
          docker exec -it ${CONTAINER_ID} uv pip uninstall habluetooth
          docker exec -it ${CONTAINER_ID} uv pip uninstall hanna-cloud
          docker exec -it ${CONTAINER_ID} uv pip uninstall hass-nabucasa
          docker exec -it ${CONTAINER_ID} uv pip uninstall hass-splunk
          docker exec -it ${CONTAINER_ID} uv pip uninstall hassil
          docker exec -it ${CONTAINER_ID} uv pip uninstall hdate[astral]
          docker exec -it ${CONTAINER_ID} uv pip uninstall heatmiserV3
          docker exec -it ${CONTAINER_ID} uv pip uninstall here-routing
          docker exec -it ${CONTAINER_ID} uv pip uninstall here-transit
          docker exec -it ${CONTAINER_ID} uv pip uninstall hikvision
          docker exec -it ${CONTAINER_ID} uv pip uninstall hkavr
          docker exec -it ${CONTAINER_ID} uv pip uninstall hko
          docker exec -it ${CONTAINER_ID} uv pip uninstall hlk-sw16
          docker exec -it ${CONTAINER_ID} uv pip uninstall hole
          docker exec -it ${CONTAINER_ID} uv pip uninstall holidays
          docker exec -it ${CONTAINER_ID} uv pip uninstall home-assistant-frontend
          docker exec -it ${CONTAINER_ID} uv pip uninstall home-assistant-intents
          docker exec -it ${CONTAINER_ID} uv pip uninstall homelink-integration-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall homematicip
          docker exec -it ${CONTAINER_ID} uv pip uninstall horimote
          docker exec -it ${CONTAINER_ID} uv pip uninstall httplib2
          docker exec -it ${CONTAINER_ID} uv pip uninstall huawei-lte-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall huum
          docker exec -it ${CONTAINER_ID} uv pip uninstall hyperion-py
          docker exec -it ${CONTAINER_ID} uv pip uninstall iammeter
          docker exec -it ${CONTAINER_ID} uv pip uninstall iaqualink
          docker exec -it ${CONTAINER_ID} uv pip uninstall ibeacon-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall ical
          docker exec -it ${CONTAINER_ID} uv pip uninstall icalendar
          docker exec -it ${CONTAINER_ID} uv pip uninstall icmplib
          docker exec -it ${CONTAINER_ID} uv pip uninstall idasen-ha
          docker exec -it ${CONTAINER_ID} uv pip uninstall ifaddr
          docker exec -it ${CONTAINER_ID} uv pip uninstall iglo
          docker exec -it ${CONTAINER_ID} uv pip uninstall igloohome-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall ihcsdk
          docker exec -it ${CONTAINER_ID} uv pip uninstall imeon_inverter_api
          docker exec -it ${CONTAINER_ID} uv pip uninstall imgw_pib
          docker exec -it ${CONTAINER_ID} uv pip uninstall incomfort-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall influxdb-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall influxdb
          docker exec -it ${CONTAINER_ID} uv pip uninstall inkbird-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall insteon-frontend-home-assistant
          docker exec -it ${CONTAINER_ID} uv pip uninstall intellifire4py
          docker exec -it ${CONTAINER_ID} uv pip uninstall iometer
          docker exec -it ${CONTAINER_ID} uv pip uninstall iottycloud
          docker exec -it ${CONTAINER_ID} uv pip uninstall iperf3
          docker exec -it ${CONTAINER_ID} uv pip uninstall irm-kmi-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall isal
          docker exec -it ${CONTAINER_ID} uv pip uninstall ismartgate
          docker exec -it ${CONTAINER_ID} uv pip uninstall israel-rail-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall jaraco.abode
          docker exec -it ${CONTAINER_ID} uv pip uninstall jellyfin-apiclient-python
          docker exec -it ${CONTAINER_ID} uv pip uninstall jsonpath
          docker exec -it ${CONTAINER_ID} uv pip uninstall justnimbus
          docker exec -it ${CONTAINER_ID} uv pip uninstall kaiterra-async-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall keba-kecontact
          docker exec -it ${CONTAINER_ID} uv pip uninstall kegtron-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall kiwiki-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall knocki
          docker exec -it ${CONTAINER_ID} uv pip uninstall knx-frontend
          docker exec -it ${CONTAINER_ID} uv pip uninstall konnected
          docker exec -it ${CONTAINER_ID} uv pip uninstall krakenex
          docker exec -it ${CONTAINER_ID} uv pip uninstall lacrosse-view
          docker exec -it ${CONTAINER_ID} uv pip uninstall lakeside
          docker exec -it ${CONTAINER_ID} uv pip uninstall laundrify-aio
          docker exec -it ${CONTAINER_ID} uv pip uninstall lcn-frontend
          docker exec -it ${CONTAINER_ID} uv pip uninstall ld2410-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall leaone-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall led-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall lektricowifi
          docker exec -it ${CONTAINER_ID} uv pip uninstall letpot
          docker exec -it ${CONTAINER_ID} uv pip uninstall libpyfoscamcgi
          docker exec -it ${CONTAINER_ID} uv pip uninstall libpyvivotek
          docker exec -it ${CONTAINER_ID} uv pip uninstall librehardwaremonitor-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall librouteros
          docker exec -it ${CONTAINER_ID} uv pip uninstall libsoundtouch
          docker exec -it ${CONTAINER_ID} uv pip uninstall lightify
          docker exec -it ${CONTAINER_ID} uv pip uninstall lightwave
          docker exec -it ${CONTAINER_ID} uv pip uninstall limitlessled
          docker exec -it ${CONTAINER_ID} uv pip uninstall linode-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall livisi
          docker exec -it ${CONTAINER_ID} uv pip uninstall locationsharinglib
          docker exec -it ${CONTAINER_ID} uv pip uninstall london-tube-status
          docker exec -it ${CONTAINER_ID} uv pip uninstall loqedAPI
          docker exec -it ${CONTAINER_ID} uv pip uninstall luftdaten
          docker exec -it ${CONTAINER_ID} uv pip uninstall lunatone-rest-api-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall lupupy
          docker exec -it ${CONTAINER_ID} uv pip uninstall lw12
          docker exec -it ${CONTAINER_ID} uv pip uninstall lxml
          docker exec -it ${CONTAINER_ID} uv pip uninstall matrix-nio
          docker exec -it ${CONTAINER_ID} uv pip uninstall maxcube-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall mbddns
          docker exec -it ${CONTAINER_ID} uv pip uninstall mcp
          docker exec -it ${CONTAINER_ID} uv pip uninstall mcstatus
          docker exec -it ${CONTAINER_ID} uv pip uninstall meater-python
          docker exec -it ${CONTAINER_ID} uv pip uninstall medcom-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall melnor-bluetooth
          docker exec -it ${CONTAINER_ID} uv pip uninstall messagebird
          docker exec -it ${CONTAINER_ID} uv pip uninstall meteo-lt-pkg
          docker exec -it ${CONTAINER_ID} uv pip uninstall meteoalertapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall meteofrance-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall mficlient
          docker exec -it ${CONTAINER_ID} uv pip uninstall micloud
          docker exec -it ${CONTAINER_ID} uv pip uninstall microBeesPy
          docker exec -it ${CONTAINER_ID} uv pip uninstall mill-local
          docker exec -it ${CONTAINER_ID} uv pip uninstall millheater
          docker exec -it ${CONTAINER_ID} uv pip uninstall minio
          docker exec -it ${CONTAINER_ID} uv pip uninstall moat-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall moehlenhoff-alpha2
          docker exec -it ${CONTAINER_ID} uv pip uninstall momonga
          docker exec -it ${CONTAINER_ID} uv pip uninstall monzopy
          docker exec -it ${CONTAINER_ID} uv pip uninstall mopeka-iot-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall motionblinds
          docker exec -it ${CONTAINER_ID} uv pip uninstall motionblindsble
          docker exec -it ${CONTAINER_ID} uv pip uninstall motioneye-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall mozart-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall mullvad-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall music-assistant-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall mutagen
          docker exec -it ${CONTAINER_ID} uv pip uninstall mutesync
          docker exec -it ${CONTAINER_ID} uv pip uninstall mvg
          docker exec -it ${CONTAINER_ID} uv pip uninstall mypermobil
          docker exec -it ${CONTAINER_ID} uv pip uninstall myuplink
          docker exec -it ${CONTAINER_ID} uv pip uninstall nad-receiver
          docker exec -it ${CONTAINER_ID} uv pip uninstall ndms2-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall nessclient
          docker exec -it ${CONTAINER_ID} uv pip uninstall netdata
          docker exec -it ${CONTAINER_ID} uv pip uninstall netmap
          docker exec -it ${CONTAINER_ID} uv pip uninstall nettigo-air-monitor
          docker exec -it ${CONTAINER_ID} uv pip uninstall neurio
          docker exec -it ${CONTAINER_ID} uv pip uninstall nexia
          docker exec -it ${CONTAINER_ID} uv pip uninstall nextcloudmonitor
          docker exec -it ${CONTAINER_ID} uv pip uninstall nextcord
          docker exec -it ${CONTAINER_ID} uv pip uninstall nextdns
          docker exec -it ${CONTAINER_ID} uv pip uninstall nhc
          docker exec -it ${CONTAINER_ID} uv pip uninstall nibe
          docker exec -it ${CONTAINER_ID} uv pip uninstall nice-go
          docker exec -it ${CONTAINER_ID} uv pip uninstall niluclient
          docker exec -it ${CONTAINER_ID} uv pip uninstall noaa-coops
          docker exec -it ${CONTAINER_ID} uv pip uninstall notifications-android-tv
          docker exec -it ${CONTAINER_ID} uv pip uninstall notify-events
          docker exec -it ${CONTAINER_ID} uv pip uninstall nsapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall nsw-fuel-api-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall nuheat
          docker exec -it ${CONTAINER_ID} uv pip uninstall numato-gpio
          docker exec -it ${CONTAINER_ID} uv pip uninstall numpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall nyt_games
          docker exec -it ${CONTAINER_ID} uv pip uninstall oasatelematics
          docker exec -it ${CONTAINER_ID} uv pip uninstall oauth2client
          docker exec -it ${CONTAINER_ID} uv pip uninstall objgraph
          docker exec -it ${CONTAINER_ID} uv pip uninstall odp-amsterdam
          docker exec -it ${CONTAINER_ID} uv pip uninstall oemthermostat
          docker exec -it ${CONTAINER_ID} uv pip uninstall ohme
          docker exec -it ${CONTAINER_ID} uv pip uninstall ollama
          docker exec -it ${CONTAINER_ID} uv pip uninstall omnilogic
          docker exec -it ${CONTAINER_ID} uv pip uninstall ondilo
          docker exec -it ${CONTAINER_ID} uv pip uninstall onedrive-personal-sdk
          docker exec -it ${CONTAINER_ID} uv pip uninstall onvif-zeep-async
          docker exec -it ${CONTAINER_ID} uv pip uninstall open-garage
          docker exec -it ${CONTAINER_ID} uv pip uninstall open-meteo
          docker exec -it ${CONTAINER_ID} uv pip uninstall openai
          docker exec -it ${CONTAINER_ID} uv pip uninstall openerz-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall openevsewifi
          docker exec -it ${CONTAINER_ID} uv pip uninstall openhomedevice
          docker exec -it ${CONTAINER_ID} uv pip uninstall openrgb-python
          docker exec -it ${CONTAINER_ID} uv pip uninstall opensensemap-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall openwebifpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall openwrt-luci-rpc
          docker exec -it ${CONTAINER_ID} uv pip uninstall openwrt-ubus-rpc
          docker exec -it ${CONTAINER_ID} uv pip uninstall opower
          docker exec -it ${CONTAINER_ID} uv pip uninstall oralb-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall oru
          docker exec -it ${CONTAINER_ID} uv pip uninstall orvibo
          docker exec -it ${CONTAINER_ID} uv pip uninstall ourgroceries
          docker exec -it ${CONTAINER_ID} uv pip uninstall ovoenergy
          docker exec -it ${CONTAINER_ID} uv pip uninstall p1monitor
          docker exec -it ${CONTAINER_ID} uv pip uninstall paho-mqtt
          docker exec -it ${CONTAINER_ID} uv pip uninstall panacotta
          docker exec -it ${CONTAINER_ID} uv pip uninstall panasonic-viera
          docker exec -it ${CONTAINER_ID} uv pip uninstall pdunehd
          docker exec -it ${CONTAINER_ID} uv pip uninstall peblar
          docker exec -it ${CONTAINER_ID} uv pip uninstall peco
          docker exec -it ${CONTAINER_ID} uv pip uninstall pencompy
          docker exec -it ${CONTAINER_ID} uv pip uninstall pescea
          docker exec -it ${CONTAINER_ID} uv pip uninstall pexpect
          docker exec -it ${CONTAINER_ID} uv pip uninstall phone-modem
          docker exec -it ${CONTAINER_ID} uv pip uninstall pigpio
          docker exec -it ${CONTAINER_ID} uv pip uninstall pilight
          docker exec -it ${CONTAINER_ID} uv pip uninstall plexauth
          docker exec -it ${CONTAINER_ID} uv pip uninstall plexwebsocket
          docker exec -it ${CONTAINER_ID} uv pip uninstall plugwise
          docker exec -it ${CONTAINER_ID} uv pip uninstall pmsensor
          docker exec -it ${CONTAINER_ID} uv pip uninstall poolsense
          docker exec -it ${CONTAINER_ID} uv pip uninstall powerfox
          docker exec -it ${CONTAINER_ID} uv pip uninstall praw
          docker exec -it ${CONTAINER_ID} uv pip uninstall prayer-times-calculator-offline
          docker exec -it ${CONTAINER_ID} uv pip uninstall proliphix
          docker exec -it ${CONTAINER_ID} uv pip uninstall prometheus-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall prowlpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall proxmoxer
          docker exec -it ${CONTAINER_ID} uv pip uninstall psutil-home-assistant
          docker exec -it ${CONTAINER_ID} uv pip uninstall psutil
          docker exec -it ${CONTAINER_ID} uv pip uninstall pulsectl
          docker exec -it ${CONTAINER_ID} uv pip uninstall pushbullet.py
          docker exec -it ${CONTAINER_ID} uv pip uninstall pushover_complete
          docker exec -it ${CONTAINER_ID} uv pip uninstall pvo
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-aosmith
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-canary
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-cpuinfo
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-dactyl
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-dormakaba-dkey
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-improv-ble-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-madvr2
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-melissa-climate
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-nextbusnext
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-nightscout
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-schluter
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-sucks
          docker exec -it ${CONTAINER_ID} uv pip uninstall py-synologydsm-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyAtome
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyCEC
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyControl4
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyDuotecno
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyElectra
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyEmby
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyHik
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyHomee
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyRFXtrx
          docker exec -it ${CONTAINER_ID} uv pip uninstall pySDCP
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyTibber
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyW215
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyW800rf32
          docker exec -it ${CONTAINER_ID} uv pip uninstall py_ccm15
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyads
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyaehw4a1
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyaftership
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyairnow
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyairobotrest
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyairvisual
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyanglianwater
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyaprilaire
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyatag
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyatmo
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyatv
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyaussiebb
          docker exec -it ${CONTAINER_ID} uv pip uninstall pybalboa
          docker exec -it ${CONTAINER_ID} uv pip uninstall pybbox
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyblackbird
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyblu
          docker exec -it ${CONTAINER_ID} uv pip uninstall pybotvac
          docker exec -it ${CONTAINER_ID} uv pip uninstall pybravia
          docker exec -it ${CONTAINER_ID} uv pip uninstall pycarwings2
          docker exec -it ${CONTAINER_ID} uv pip uninstall pycfdns
          docker exec -it ${CONTAINER_ID} uv pip uninstall pychannels
          docker exec -it ${CONTAINER_ID} uv pip uninstall pycketcasts
          docker exec -it ${CONTAINER_ID} uv pip uninstall pycmus
          docker exec -it ${CONTAINER_ID} uv pip uninstall pycomfoconnect
          docker exec -it ${CONTAINER_ID} uv pip uninstall pycoolmasternet-async
          docker exec -it ${CONTAINER_ID} uv pip uninstall pycountry
          docker exec -it ${CONTAINER_ID} uv pip uninstall pycsspeechtts
          docker exec -it ${CONTAINER_ID} uv pip uninstall pycync
          docker exec -it ${CONTAINER_ID} uv pip uninstall pydaikin
          docker exec -it ${CONTAINER_ID} uv pip uninstall pydanfossair
          docker exec -it ${CONTAINER_ID} uv pip uninstall pydeako
          docker exec -it ${CONTAINER_ID} uv pip uninstall pydeconz
          docker exec -it ${CONTAINER_ID} uv pip uninstall pydelijn
          docker exec -it ${CONTAINER_ID} uv pip uninstall pydexcom
          docker exec -it ${CONTAINER_ID} uv pip uninstall pydiscovergy
          docker exec -it ${CONTAINER_ID} uv pip uninstall pydoods
          docker exec -it ${CONTAINER_ID} uv pip uninstall pydrawise
          docker exec -it ${CONTAINER_ID} uv pip uninstall pydroid-ipcam
          docker exec -it ${CONTAINER_ID} uv pip uninstall pydroplet
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyebox
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyecoforest
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyeconet
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyecotrend-ista
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyedimax
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyefergy
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyegps
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyemoncms
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyenphase
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyenvisalink
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyephember2
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyeverlights
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyevilgenius
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyezvizapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyfibaro
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyfido
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyfirefly
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyfireservicerota
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyflic
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyfnip
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyforked-daapd
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyfreedompro
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyfritzhome
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyfttt
          docker exec -it ${CONTAINER_ID} uv pip uninstall pygatt[GATTTOOL]
          docker exec -it ${CONTAINER_ID} uv pip uninstall pygtfs
          docker exec -it ${CONTAINER_ID} uv pip uninstall pygti
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyhaversion
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyheos
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyhive-integration
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyhomematic
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyhomeworks
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyialarm
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyicloud
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyinsteon
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyintesishome
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyipma
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyipp
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyiqvia
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyirishrail
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyiskra
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyiss
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyisy
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyitachip2ir
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyituran
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyjvcprojector
          docker exec -it ${CONTAINER_ID} uv pip uninstall pykaleidescape
          docker exec -it ${CONTAINER_ID} uv pip uninstall pykira
          docker exec -it ${CONTAINER_ID} uv pip uninstall pykmtronic
          docker exec -it ${CONTAINER_ID} uv pip uninstall pykodi
          docker exec -it ${CONTAINER_ID} uv pip uninstall pykoplenti
          docker exec -it ${CONTAINER_ID} uv pip uninstall pykrakenapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall pykulersky
          docker exec -it ${CONTAINER_ID} uv pip uninstall pykwb
          docker exec -it ${CONTAINER_ID} uv pip uninstall pylacrosse
          docker exec -it ${CONTAINER_ID} uv pip uninstall pylamarzocco
          docker exec -it ${CONTAINER_ID} uv pip uninstall pylast
          docker exec -it ${CONTAINER_ID} uv pip uninstall pylaunches
          docker exec -it ${CONTAINER_ID} uv pip uninstall pylgnetcast
          docker exec -it ${CONTAINER_ID} uv pip uninstall pylibrespot-java
          docker exec -it ${CONTAINER_ID} uv pip uninstall pylitejet
          docker exec -it ${CONTAINER_ID} uv pip uninstall pylitterbot
          docker exec -it ${CONTAINER_ID} uv pip uninstall pylutron-caseta
          docker exec -it ${CONTAINER_ID} uv pip uninstall pylutron
          docker exec -it ${CONTAINER_ID} uv pip uninstall pymailgunner
          docker exec -it ${CONTAINER_ID} uv pip uninstall pymata-express
          docker exec -it ${CONTAINER_ID} uv pip uninstall pymediaroom
          docker exec -it ${CONTAINER_ID} uv pip uninstall pymeteoclimatic
          docker exec -it ${CONTAINER_ID} uv pip uninstall pymicro-vad
          docker exec -it ${CONTAINER_ID} uv pip uninstall pymiele
          docker exec -it ${CONTAINER_ID} uv pip uninstall pymitv
          docker exec -it ${CONTAINER_ID} uv pip uninstall pymochad
          docker exec -it ${CONTAINER_ID} uv pip uninstall pymodbus
          docker exec -it ${CONTAINER_ID} uv pip uninstall pymonoprice
          docker exec -it ${CONTAINER_ID} uv pip uninstall pymsteams
          docker exec -it ${CONTAINER_ID} uv pip uninstall pymysensors
          docker exec -it ${CONTAINER_ID} uv pip uninstall pynecil
          docker exec -it ${CONTAINER_ID} uv pip uninstall pynetgear
          docker exec -it ${CONTAINER_ID} uv pip uninstall pynetio
          docker exec -it ${CONTAINER_ID} uv pip uninstall pynina
          docker exec -it ${CONTAINER_ID} uv pip uninstall pynintendoparental
          docker exec -it ${CONTAINER_ID} uv pip uninstall pynobo
          docker exec -it ${CONTAINER_ID} uv pip uninstall pynordpool
          docker exec -it ${CONTAINER_ID} uv pip uninstall pynuki
          docker exec -it ${CONTAINER_ID} uv pip uninstall pynws[retry]
          docker exec -it ${CONTAINER_ID} uv pip uninstall pynx584
          docker exec -it ${CONTAINER_ID} uv pip uninstall pynzbgetapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyobihai
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyoctoprintapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyombi
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyopenuv
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyopenweathermap
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyopnsense
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyoppleio-legacy
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyosoenergyapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyotgw
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyotp
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyoverkiz
          docker exec -it ${CONTAINER_ID} uv pip uninstall pypalazzetti
          docker exec -it ${CONTAINER_ID} uv pip uninstall pypaperless
          docker exec -it ${CONTAINER_ID} uv pip uninstall pypca
          docker exec -it ${CONTAINER_ID} uv pip uninstall pypck
          docker exec -it ${CONTAINER_ID} uv pip uninstall pypglab
          docker exec -it ${CONTAINER_ID} uv pip uninstall pypjlink2
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyplaato
          docker exec -it ${CONTAINER_ID} uv pip uninstall pypoint
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyportainer
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyprobeplus
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyprof2calltree
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyprosegur
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyprusalink
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyps4-2ndscreen
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyqvrpro
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyqwikswitch
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyrail
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyrainbird
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyrate-limiter
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyrecswitch
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyrepetierng
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyrisco
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyrituals
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyroute2
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyrympro
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysabnzbd
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysaj
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysaunum
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyschlage
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysensibo
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyserial-asyncio-fast
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyserial
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysesame2
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyseventeentrack
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysiaalarm
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysignalclirestapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyskyqhub
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysma
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysmappee
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysmarlaapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysmartthings
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysmarty2
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysmhi
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysml
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysmlight
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysnmp
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysnooz
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysoma
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyspcwebgw
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyspeex-noise
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysqueezebox
          docker exec -it ${CONTAINER_ID} uv pip uninstall pystiebeleltron
          docker exec -it ${CONTAINER_ID} uv pip uninstall pysuezV2
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyswitchbee
          docker exec -it ${CONTAINER_ID} uv pip uninstall pytautulli
          docker exec -it ${CONTAINER_ID} uv pip uninstall pythinkingcleaner
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-MotionMount
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-awair
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-blockchain-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-bsblan
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-citybikes
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-clementine-remote
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-digitalocean
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-ecobee-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-etherscan-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-family-hub-local
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-fullykiosk
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-gc100
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-gitlab
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-google-drive-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-google-weather-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-homeassistant-analytics
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-homewizard-energy
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-hpilo
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-izone
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-join-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-kasa[speedups]
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-linkplay
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-matter-server
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-melcloud
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-miio
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-mpd2
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-mystrom
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-open-router
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-opendata-transport
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-opensky
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-otbr-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-overseerr
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-picnic-api2
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-pooldose
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-rabbitair
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-ripple-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-roborock
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-smarttub
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-snoo
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-songpal
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-tado
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-technove
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-telegram-bot[socks]
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-vlc
          docker exec -it ${CONTAINER_ID} uv pip uninstall python-xbox
          docker exec -it ${CONTAINER_ID} uv pip uninstall pythonegardia
          docker exec -it ${CONTAINER_ID} uv pip uninstall pythonkuma
          docker exec -it ${CONTAINER_ID} uv pip uninstall pytile
          docker exec -it ${CONTAINER_ID} uv pip uninstall pytomorrowio
          docker exec -it ${CONTAINER_ID} uv pip uninstall pytouchline_extended
          docker exec -it ${CONTAINER_ID} uv pip uninstall pytouchlinesl
          docker exec -it ${CONTAINER_ID} uv pip uninstall pytraccar
          docker exec -it ${CONTAINER_ID} uv pip uninstall pytradfri[async]
          docker exec -it ${CONTAINER_ID} uv pip uninstall pytrafikverket
          docker exec -it ${CONTAINER_ID} uv pip uninstall pytrydan
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyuptimerobot
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyvera
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyversasense
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyvesync
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyvizio
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyvlx
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyvolumio
          docker exec -it ${CONTAINER_ID} uv pip uninstall pywaze
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyweatherflowudp
          docker exec -it ${CONTAINER_ID} uv pip uninstall pywebpush
          docker exec -it ${CONTAINER_ID} uv pip uninstall pywemo
          docker exec -it ${CONTAINER_ID} uv pip uninstall pywilight
          docker exec -it ${CONTAINER_ID} uv pip uninstall pywizlight
          docker exec -it ${CONTAINER_ID} uv pip uninstall pywmspro
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyws66i
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyxeoma
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyyardian
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyzbar
          docker exec -it ${CONTAINER_ID} uv pip uninstall pyzerproc
          docker exec -it ${CONTAINER_ID} uv pip uninstall qbittorrent-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall qbusmqttapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall qingping-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall qnapstats
          docker exec -it ${CONTAINER_ID} uv pip uninstall quantum-gateway
          docker exec -it ${CONTAINER_ID} uv pip uninstall radios
          docker exec -it ${CONTAINER_ID} uv pip uninstall radiotherm
          docker exec -it ${CONTAINER_ID} uv pip uninstall raincloudy
          docker exec -it ${CONTAINER_ID} uv pip uninstall rapt-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall raspyrfm-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall refoss-ha
          docker exec -it ${CONTAINER_ID} uv pip uninstall regenmaschine
          docker exec -it ${CONTAINER_ID} uv pip uninstall renault-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall renson-endura-delta
          docker exec -it ${CONTAINER_ID} uv pip uninstall reolink-aio
          docker exec -it ${CONTAINER_ID} uv pip uninstall rfk101py
          docker exec -it ${CONTAINER_ID} uv pip uninstall rflink
          docker exec -it ${CONTAINER_ID} uv pip uninstall ring-doorbell
          docker exec -it ${CONTAINER_ID} uv pip uninstall ritassist
          docker exec -it ${CONTAINER_ID} uv pip uninstall rjpl
          docker exec -it ${CONTAINER_ID} uv pip uninstall rocketchat-API
          docker exec -it ${CONTAINER_ID} uv pip uninstall rokuecp
          docker exec -it ${CONTAINER_ID} uv pip uninstall romy
          docker exec -it ${CONTAINER_ID} uv pip uninstall roombapy
          docker exec -it ${CONTAINER_ID} uv pip uninstall roonapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall rova
          docker exec -it ${CONTAINER_ID} uv pip uninstall rpi-bad-power
          docker exec -it ${CONTAINER_ID} uv pip uninstall russound
          docker exec -it ${CONTAINER_ID} uv pip uninstall ruuvitag-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall rxv
          docker exec -it ${CONTAINER_ID} uv pip uninstall samsungctl[websocket]
          docker exec -it ${CONTAINER_ID} uv pip uninstall samsungtvws[async,encrypted]
          docker exec -it ${CONTAINER_ID} uv pip uninstall sanix
          docker exec -it ${CONTAINER_ID} uv pip uninstall satel-integra
          docker exec -it ${CONTAINER_ID} uv pip uninstall screenlogicpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall scsgate
          docker exec -it ${CONTAINER_ID} uv pip uninstall securetar
          docker exec -it ${CONTAINER_ID} uv pip uninstall sendgrid
          docker exec -it ${CONTAINER_ID} uv pip uninstall sense-energy
          docker exec -it ${CONTAINER_ID} uv pip uninstall sensirion-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall sensorpro-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall sensorpush-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall sensorpush-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall sensorpush-ha
          docker exec -it ${CONTAINER_ID} uv pip uninstall sensoterra
          docker exec -it ${CONTAINER_ID} uv pip uninstall sentence-stream
          docker exec -it ${CONTAINER_ID} uv pip uninstall sentry-sdk
          docker exec -it ${CONTAINER_ID} uv pip uninstall sfrbox-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall sharkiq
          docker exec -it ${CONTAINER_ID} uv pip uninstall sharp_aquos_rc
          docker exec -it ${CONTAINER_ID} uv pip uninstall shodan
          docker exec -it ${CONTAINER_ID} uv pip uninstall simplefin4py
          docker exec -it ${CONTAINER_ID} uv pip uninstall simplehound
          docker exec -it ${CONTAINER_ID} uv pip uninstall simplepush
          docker exec -it ${CONTAINER_ID} uv pip uninstall simplisafe-python
          docker exec -it ${CONTAINER_ID} uv pip uninstall sisyphus-control
          docker exec -it ${CONTAINER_ID} uv pip uninstall skyboxremote
          docker exec -it ${CONTAINER_ID} uv pip uninstall slack_sdk
          docker exec -it ${CONTAINER_ID} uv pip uninstall slixmpp
          docker exec -it ${CONTAINER_ID} uv pip uninstall smart-meter-texas
          docker exec -it ${CONTAINER_ID} uv pip uninstall snapcast
          docker exec -it ${CONTAINER_ID} uv pip uninstall soco
          docker exec -it ${CONTAINER_ID} uv pip uninstall solaredge-local
          docker exec -it ${CONTAINER_ID} uv pip uninstall solaredge-web
          docker exec -it ${CONTAINER_ID} uv pip uninstall solarlog_cli
          docker exec -it ${CONTAINER_ID} uv pip uninstall solax
          docker exec -it ${CONTAINER_ID} uv pip uninstall somfy-mylink-synergy
          docker exec -it ${CONTAINER_ID} uv pip uninstall sonos-websocket
          docker exec -it ${CONTAINER_ID} uv pip uninstall speak2mary
          docker exec -it ${CONTAINER_ID} uv pip uninstall speedtest-cli
          docker exec -it ${CONTAINER_ID} uv pip uninstall spotifyaio
          docker exec -it ${CONTAINER_ID} uv pip uninstall sqlparse
          docker exec -it ${CONTAINER_ID} uv pip uninstall srpenergy
          docker exec -it ${CONTAINER_ID} uv pip uninstall starline
          docker exec -it ${CONTAINER_ID} uv pip uninstall starlingbank
          docker exec -it ${CONTAINER_ID} uv pip uninstall starlink-grpc-core
          docker exec -it ${CONTAINER_ID} uv pip uninstall statsd
          docker exec -it ${CONTAINER_ID} uv pip uninstall steamodd
          docker exec -it ${CONTAINER_ID} uv pip uninstall stookwijzer
          docker exec -it ${CONTAINER_ID} uv pip uninstall streamlabswater
          docker exec -it ${CONTAINER_ID} uv pip uninstall subarulink
          docker exec -it ${CONTAINER_ID} uv pip uninstall surepy
          docker exec -it ${CONTAINER_ID} uv pip uninstall swisshydrodata
          docker exec -it ${CONTAINER_ID} uv pip uninstall switchbot-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall synology-srm
          docker exec -it ${CONTAINER_ID} uv pip uninstall systembridgeconnector
          docker exec -it ${CONTAINER_ID} uv pip uninstall tailscale
          docker exec -it ${CONTAINER_ID} uv pip uninstall tank-utility
          docker exec -it ${CONTAINER_ID} uv pip uninstall tapsaff
          docker exec -it ${CONTAINER_ID} uv pip uninstall tellcore-net
          docker exec -it ${CONTAINER_ID} uv pip uninstall tellcore-py
          docker exec -it ${CONTAINER_ID} uv pip uninstall tellduslive
          docker exec -it ${CONTAINER_ID} uv pip uninstall temescal
          docker exec -it ${CONTAINER_ID} uv pip uninstall temperusb
          docker exec -it ${CONTAINER_ID} uv pip uninstall tesla-fleet-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall tesla-powerwall
          docker exec -it ${CONTAINER_ID} uv pip uninstall tesla-wall-connector
          docker exec -it ${CONTAINER_ID} uv pip uninstall teslemetry-stream
          docker exec -it ${CONTAINER_ID} uv pip uninstall tessie-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall thermobeacon-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall thermopro-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall thingspeak
          docker exec -it ${CONTAINER_ID} uv pip uninstall thinqconnect
          docker exec -it ${CONTAINER_ID} uv pip uninstall tikteck
          docker exec -it ${CONTAINER_ID} uv pip uninstall tilt-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall tilt-pi
          docker exec -it ${CONTAINER_ID} uv pip uninstall tmb
          docker exec -it ${CONTAINER_ID} uv pip uninstall todoist-api-python
          docker exec -it ${CONTAINER_ID} uv pip uninstall togrill-bluetooth
          docker exec -it ${CONTAINER_ID} uv pip uninstall tololib
          docker exec -it ${CONTAINER_ID} uv pip uninstall toonapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall total-connect-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall tp-connected
          docker exec -it ${CONTAINER_ID} uv pip uninstall tplink-omada-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall transmission-rpc
          docker exec -it ${CONTAINER_ID} uv pip uninstall triggercmd
          docker exec -it ${CONTAINER_ID} uv pip uninstall ttls
          docker exec -it ${CONTAINER_ID} uv pip uninstall ttn_client
          docker exec -it ${CONTAINER_ID} uv pip uninstall tuya-device-sharing-sdk
          docker exec -it ${CONTAINER_ID} uv pip uninstall twentemilieu
          docker exec -it ${CONTAINER_ID} uv pip uninstall twilio
          docker exec -it ${CONTAINER_ID} uv pip uninstall twitchAPI
          docker exec -it ${CONTAINER_ID} uv pip uninstall typedmonarchmoney
          docker exec -it ${CONTAINER_ID} uv pip uninstall uasiren
          docker exec -it ${CONTAINER_ID} uv pip uninstall uiprotect
          docker exec -it ${CONTAINER_ID} uv pip uninstall ultraheat-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall unifi-discovery
          docker exec -it ${CONTAINER_ID} uv pip uninstall unifi_ap
          docker exec -it ${CONTAINER_ID} uv pip uninstall unifiled
          docker exec -it ${CONTAINER_ID} uv pip uninstall universal-silabs-flasher
          docker exec -it ${CONTAINER_ID} uv pip uninstall upb-lib
          docker exec -it ${CONTAINER_ID} uv pip uninstall upcloud-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall url-normalize
          docker exec -it ${CONTAINER_ID} uv pip uninstall uvcclient
          docker exec -it ${CONTAINER_ID} uv pip uninstall vacuum-map-parser-roborock
          docker exec -it ${CONTAINER_ID} uv pip uninstall vallox-websocket-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall vegehub
          docker exec -it ${CONTAINER_ID} uv pip uninstall vehicle
          docker exec -it ${CONTAINER_ID} uv pip uninstall velbus-aio
          docker exec -it ${CONTAINER_ID} uv pip uninstall venstarcolortouch
          docker exec -it ${CONTAINER_ID} uv pip uninstall victron-ble-ha-parser
          docker exec -it ${CONTAINER_ID} uv pip uninstall victron-vrm
          docker exec -it ${CONTAINER_ID} uv pip uninstall vilfo-api-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall vobject
          docker exec -it ${CONTAINER_ID} uv pip uninstall voip-utils
          docker exec -it ${CONTAINER_ID} uv pip uninstall volkszaehler
          docker exec -it ${CONTAINER_ID} uv pip uninstall volvocarsapi
          docker exec -it ${CONTAINER_ID} uv pip uninstall vsure
          docker exec -it ${CONTAINER_ID} uv pip uninstall vtjp
          docker exec -it ${CONTAINER_ID} uv pip uninstall wakeonlan
          docker exec -it ${CONTAINER_ID} uv pip uninstall wallbox
          docker exec -it ${CONTAINER_ID} uv pip uninstall watchdog
          docker exec -it ${CONTAINER_ID} uv pip uninstall waterfurnace
          docker exec -it ${CONTAINER_ID} uv pip uninstall watergate-local-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall weatherflow4py
          docker exec -it ${CONTAINER_ID} uv pip uninstall webexpythonsdk
          docker exec -it ${CONTAINER_ID} uv pip uninstall webio-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall webmin-xmlrpc
          docker exec -it ${CONTAINER_ID} uv pip uninstall weheat
          docker exec -it ${CONTAINER_ID} uv pip uninstall whirlpool-sixth-sense
          docker exec -it ${CONTAINER_ID} uv pip uninstall whois
          docker exec -it ${CONTAINER_ID} uv pip uninstall wiffi
          docker exec -it ${CONTAINER_ID} uv pip uninstall wirelesstagpy
          docker exec -it ${CONTAINER_ID} uv pip uninstall wled
          docker exec -it ${CONTAINER_ID} uv pip uninstall wolf-comm
          docker exec -it ${CONTAINER_ID} uv pip uninstall wsdot
          docker exec -it ${CONTAINER_ID} uv pip uninstall wyoming
          docker exec -it ${CONTAINER_ID} uv pip uninstall xiaomi-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall xknx
          docker exec -it ${CONTAINER_ID} uv pip uninstall xknxproject
          docker exec -it ${CONTAINER_ID} uv pip uninstall xmltodict
          docker exec -it ${CONTAINER_ID} uv pip uninstall xs1-api-client
          docker exec -it ${CONTAINER_ID} uv pip uninstall yalesmartalarmclient
          docker exec -it ${CONTAINER_ID} uv pip uninstall yalexs-ble
          docker exec -it ${CONTAINER_ID} uv pip uninstall yalexs
          docker exec -it ${CONTAINER_ID} uv pip uninstall yeelight
          docker exec -it ${CONTAINER_ID} uv pip uninstall yeelightsunflower
          docker exec -it ${CONTAINER_ID} uv pip uninstall yolink-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall youless-api
          docker exec -it ${CONTAINER_ID} uv pip uninstall youtubeaio
          docker exec -it ${CONTAINER_ID} uv pip uninstall yt-dlp[default]
          docker exec -it ${CONTAINER_ID} uv pip uninstall zabbix-utils
          docker exec -it ${CONTAINER_ID} uv pip uninstall zamg
          docker exec -it ${CONTAINER_ID} uv pip uninstall zcc-helper
          docker exec -it ${CONTAINER_ID} uv pip uninstall zeroconf
          docker exec -it ${CONTAINER_ID} uv pip uninstall zeversolar
          docker exec -it ${CONTAINER_ID} uv pip uninstall zha
          docker exec -it ${CONTAINER_ID} uv pip uninstall zhong-hong-hvac
          docker exec -it ${CONTAINER_ID} uv pip uninstall ziggo-mediabox-xl
          docker exec -it ${CONTAINER_ID} uv pip uninstall zm-py
          docker exec -it ${CONTAINER_ID} uv pip uninstall zwave-js-server-python
          docker exec -it ${CONTAINER_ID} uv pip uninstall zwave-me-ws
          echo "Removed packages in requirement_all.txt"

      - name: Export container to tar file
        run: |
          docker export ${CONTAINER_ID} > home-assistant-arm64-slim_${{ env.HA_VERSION }}.tar
          echo "Exported container to home-assistant-arm64-slim_${{ env.HA_VERSION }}.tar"

      - name: Stop and remove container
        run: |
          docker stop ${CONTAINER_ID}
          docker rm ${CONTAINER_ID}
          echo "Stopped and removed container"

      - name: Import tar as new image
        run: |
          docker import home-assistant-arm64-slim_${{ env.HA_VERSION }}.tar home-assistant-arm64-slim:${{ env.HA_VERSION }}
          echo "Imported tar as home-assistant-arm64-slim:${{ env.HA_VERSION }}"

      - name: Get new image size
        run: |
          NEW_SIZE=$(docker images --format "table {{.Repository}}:{{.Tag}}\t{{.Size}}" home-assistant-arm64-slim:${{ env.HA_VERSION }} | tail -n 1 | awk '{print $2}')
          echo "NEW_SIZE=${NEW_SIZE}" >> $GITHUB_ENV
          echo "新镜像大小: ${NEW_SIZE}"

      - name: Calculate size reduction percentage
        run: |
          # Convert sizes to bytes for calculation
          ORIGINAL_SIZE_BYTES=$(echo "${{ env.ORIGINAL_SIZE }}" | sed 's/GB/*1024*1024*1024/g; s/MB/*1024*1024/g; s/KB/*1024/g; s/B//g' | bc)
          NEW_SIZE_BYTES=$(echo "${{ env.NEW_SIZE }}" | sed 's/GB/*1024*1024*1024/g; s/MB/*1024*1024/g; s/KB/*1024/g; s/B//g' | bc)
          
          # Calculate percentage reduction
          REDUCTION=$(echo "scale=2; ((${ORIGINAL_SIZE_BYTES} - ${NEW_SIZE_BYTES}) * 100) / ${ORIGINAL_SIZE_BYTES}" | bc)
          echo "SIZE_REDUCTION=${REDUCTION}%" >> $GITHUB_ENV
          echo "镜像大小减少: ${REDUCTION}%"

      - name: Create builder with docker-container driver
        run: |
          # Create a new builder with docker-container driver
          docker buildx create --use --driver docker-container --name container-builder
          echo "BUILDER_NAME=container-builder" >> $GITHUB_ENV

      - name: Tag and push local image directly
        run: |
          # Convert repository name to lowercase
          REPO_NAME=$(echo '${{ github.repository }}' | tr '[:upper:]' '[:lower:]')
          
          # Tag the local image for GitHub Container Registry
          docker tag home-assistant-arm64-slim:${{ env.HA_VERSION }} ghcr.io/${REPO_NAME}:${{ env.HA_VERSION }}
          
          # Push the image directly
          docker push ghcr.io/${REPO_NAME}:${{ env.HA_VERSION }}
          echo "Pushed image to GitHub Container Registry"
          echo "镜像已推送到GitHub Container Registry，可以使用以下命令拉取："
          echo "docker pull ghcr.io/${REPO_NAME}:${{ env.HA_VERSION }}"

      - name: Output final message
        run: |
          echo "镜像已推送到GitHub Container Registry，可以使用以下命令拉取："
          echo "docker pull ghcr.io/${{ github.repository }}:${{ env.HA_VERSION }}"